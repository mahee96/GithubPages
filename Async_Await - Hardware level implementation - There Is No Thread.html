<!DOCTYPE html>
<!-- saved from url=(0062)https://blog.stephencleary.com/2013/11/there-is-no-thread.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>There Is No Thread</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="This is an essential truth of async in its purest form: There is no thread.">
    <link rel="canonical" href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html">
    
    <link rel="alternate" type="application/rss+xml" title="Stephen Cleary (the blog)" href="https://feeds.feedburner.com/NitoPrograms">
    
    <link type="text/css" rel="stylesheet" href="./Async_Await - Hardware level implementation - There Is No Thread_files/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="./Async_Await - Hardware level implementation - There Is No Thread_files/font-awesome.min.css">
    <style type="text/css">/* Layout Styles */
/* ----------------------------------------------------------*/

body {
    padding-top: 50px;
}

.affix {
    top: 70px;
    bottom: 0;
    overflow-y: auto;
}

.navbar-brand {
    font-weight: bold;
}

.navbar-brand-container.active>a, .navbar-brand-container.active>a:hover, .navbar-brand-container.active>a:focus {
    color: #3399f3;
    background-color: transparent;
}

.sidebar {
    margin-top: 20px;
}

.sidenavitem {
    height: auto;
}

.sidebar img {
    /* Responsive images */
    display: inline-block;
    height: auto;
    max-width: 100%;
}

@media(max-width:767px) {
    .affix {
        position: static;
    }
}

div .vertical-margins {
    margin-top: 10px;
    margin-bottom: 10px;
}

.page-header {
    margin-top: 20px;
}

.center {
    text-align: center;
}

.project-icon {
    height: 128px;
    width: 128px;
}

.list-group-item h2 {
    margin-top: 10px;
}

/* Fixes for Google Custom Search in a Bootstrap page */
/* ----------------------------------------------------------*/
.google, .google *, .google *:before, .google *:after {
    -webkit-box-sizing: content-box;
    -moz-box-sizing: content-box;
    box-sizing: content-box;
}

.google table {
    border-collapse: separate;
}

.gsc-input-box {
    height: auto !important;
}

/* Fixes for Amazon widget in Bootstrap page */
.amzn_wdgt * {
    -webkit-box-sizing: content-box;
    -moz-box-sizing: content-box;
    box-sizing: content-box;
}

/* Post styles */
/* ----------------------------------------------------------*/

code {
    background-color: #F2F3F9;
    color: inherit;
}

.post img {
    /* Responsive images */
    display: inline-block;
    height: auto;
    max-width: 100%;
}

.post .table {
    table-layout: fixed;
}

.post .table code {
    white-space: normal;
}

.post .yes {
    color: #008000;
}

.post .no {
    color: #FF0000;
}

/* Syntax highlighting styles */
/* ----------------------------------------------------------*/

.highlight  { background: #ffffff; }
.highlight .c { color: #008000 } /* Comment */
.highlight .k { color: #0000ff } /* Keyword */
.highlight .cm { color: #008000 } /* Comment.Multiline */
.highlight .cp { color: #0000ff } /* Comment.Preproc */
.highlight .c1 { color: #008000 } /* Comment.Single */
.highlight .cs { color: #008000 } /* Comment.Special */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gh { font-weight: bold } /* Generic.Heading */
.highlight .gp { font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { font-weight: bold } /* Generic.Subheading */
.highlight .kc { color: #0000ff } /* Keyword.Constant */
.highlight .kd { color: #0000ff } /* Keyword.Declaration */
.highlight .kn { color: #0000ff } /* Keyword.Namespace */
.highlight .kp { color: #0000ff } /* Keyword.Pseudo */
.highlight .kr { color: #0000ff } /* Keyword.Reserved */
.highlight .kt { color: #2b91af } /* Keyword.Type */
.highlight .s { color: #a31515 } /* Literal.String */
.highlight .nc { color: #2b91af } /* Name.Class */
.highlight .ow { color: #0000ff } /* Operator.Word */
.highlight .sb { color: #a31515 } /* Literal.String.Backtick */
.highlight .sc { color: #a31515 } /* Literal.String.Char */
.highlight .sd { color: #a31515 } /* Literal.String.Doc */
.highlight .s2 { color: #a31515 } /* Literal.String.Double */
.highlight .se { color: #a31515 } /* Literal.String.Escape */
.highlight .sh { color: #a31515 } /* Literal.String.Heredoc */
.highlight .si { color: #a31515 } /* Literal.String.Interpol */
.highlight .sx { color: #a31515 } /* Literal.String.Other */
.highlight .sr { color: #a31515 } /* Literal.String.Regex */
.highlight .s1 { color: #a31515 } /* Literal.String.Single */
.highlight .ss { color: #a31515 } /* Literal.String.Symbol */

/* Comments */
/* ----------------------------------------------------------*/

.comment-container {
    margin-top: 1em;
}

.comment-container > .comment-container {
    margin-left: 2em;
}

.comment-container > .comment-container > .comment-container > .comment-container > .comment-container {
    margin-left: 0;
}

/* Correct anchor links in comments (they are offset by the height of the fixed header) */
.comment-anchor {
    display: block;
    position: relative;
    top: -60px;
    visibility: hidden;
}

img.comment-author-profile-image {
    height: 80px;
    width: 80px;
    margin-right: 10px;
}

.comment-message {
    overflow-x: auto;
}

.comment-form {
    border: 1px solid black;
    padding: 1em;
}

.comment-new {
    margin-top: 1em;
    margin-bottom: 1em;
}

.comment-new, .comment-reply {
    margin-left: 1em;
}

.comment-hidden {
    display: none;
}

.comment-form-buttonbar {
    margin-top: 1em;
}
</style>
    
    <meta name="application-name" content="Stephen Cleary">
    <link rel="search" type="application/opensearchdescription+xml" href="https://stephencleary.com/opensearch.xml" title="Cleary Search">
    <link rel="apple-touch-icon" sizes="57x57" href="https://stephencleary.com/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://stephencleary.com/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://stephencleary.com/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://stephencleary.com/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://stephencleary.com/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://stephencleary.com/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://stephencleary.com/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://stephencleary.com/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" href="https://stephencleary.com/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon-precomposed" href="https://stephencleary.com/icons/apple-touch-icon-precomposed.png">
    <link rel="icon" type="image/png" href="https://stephencleary.com/icons/favicon-196x196.png" sizes="196x196">
    <link rel="icon" type="image/png" href="https://stephencleary.com/icons/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="https://stephencleary.com/icons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="https://stephencleary.com/icons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="https://stephencleary.com/icons/favicon-32x32.png" sizes="32x32">
    
    <meta name="google-site-verification" content="L8q0fpGSwpNSD0OGFI07hyMujSpORrV4tAaNx_Js7oQ">
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand-container"><a class="navbar-brand" href="https://stephencleary.com/">Stephen Cleary</a></div>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
            <li class="active"><a href="https://blog.stephencleary.com/">Blog</a></li>
            <li><a href="https://stephencleary.com/book/">Book</a></li>
            <li><a href="https://stephencleary.com/projects/">Projects</a></li>
            <li><a href="https://stephencleary.com/publications/">Publications</a></li>
            <li><a href="https://stephencleary.com/contact/">Contact</a></li>
            <li><a href="https://feeds.feedburner.com/NitoPrograms"><i class="fa fa-rss-square fa-lg"></i></a></li>
            <li><a href="https://stephencleary.com/search/"><i class="fa fa-search"></i></a></li>
        </ul>
    </div>
</nav>

    <div class="container-fluid">
        <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
            <div class="post">

  <header>
      <div class="page-header">
          <h1>There Is No Thread</h1>
          <small><time datetime="2013-11-21">7 years ago (Nov 21, 2013)</time> • <a id="comment-counter" href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comments">185 Comments</a></small>
      </div>
  </header>

  <header>
    <div class="alert alert-info" markdown="1">
        <i class="fa fa-hand-o-right fa-2x pull-left"></i>
        
        <div>Has this blog been helpful? Please consider <a href="https://github.com/sponsors/StephenCleary" class="alert-link">supporting this blog (and my open-source libraries).</a> Thanks!</div>
        <div><i>For a limited time, GitHub will match your support.</i></div>
    </div>
  </header>

  <article>
  <p>This is an essential truth of async in its purest form: <strong>There is no thread.</strong></p>

<p>The objectors to this truth are legion. “No,” they cry, “if I am awaiting an operation, there <em>must</em> be a thread that is doing the wait! It’s probably a thread pool thread. Or an OS thread! Or something with a device driver…”</p>

<p>Heed not those cries. If the async operation is pure, then there is no thread.</p>

<p>The skeptical are not convinced. Let us humor them.</p>

<p>We shall trace an asynchronous operation all the way to the hardware, paying particular attention to the .NET portion and the device driver portion. We’ll have to simplify this description by leaving out some of the middle-layer details, but we shall not stray from the truth.</p>

<p>Consider a generic “write” operation (to a file, network stream, USB toaster, whatever). Our code is simple:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">private</span> <span class="k">async</span> <span class="k">void</span> <span class="nf">Button_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">RoutedEventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">byte</span><span class="p">[]</span> <span class="n">data</span> <span class="p">=</span> <span class="p">...</span>
  <span class="k">await</span> <span class="n">myDevice</span><span class="p">.</span><span class="n">WriteAsync</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>We already know that the UI thread is not blocked during the <code>await</code>. Question: Is there <em>another thread</em> that must sacrifice itself on the Altar of Blocking so that the UI thread may live?</p>

<p>Take my hand. We shall dive deep.</p>

<p>First stop: the library (e.g., entering the BCL code). Let us assume that <code>WriteAsync</code> is implemented using the <a href="https://msdn.microsoft.com/en-us/library/system.threading.overlapped.aspx">standard P/Invoke asynchronous I/O system in .NET</a>, which is based on overlapped I/O. So, this starts a Win32 overlapped I/O operation on the device’s underlying <code>HANDLE</code>.</p>

<p>The OS then turns to the device driver and asks it to begin the write operation. It does so by first constructing an object that represents the write request; this is called an I/O Request Packet (IRP).</p>

<p>The device driver receives the IRP and issues a command to the device to write out the data. If the device supports Direct Memory Access (DMA), this can be as simple as writing the buffer address to a device register. That’s all the device driver can do; it marks the IRP as “pending” and returns to the OS.</p>

<p class="center"><a href="./Async_Await - Hardware level implementation - There Is No Thread_files/Os1.png"><img src="./Async_Await - Hardware level implementation - There Is No Thread_files/Os1.png" alt=""></a></p>

<p>The core of the truth is found here: the device driver is not allowed to block while processing an IRP. This means that if the IRP cannot be completed <em>immediately</em>, then it <strong>must</strong> be processed <em>asynchronously</em>. This is true even for synchronous APIs! At the device driver level, all (non-trivial) requests are asynchronous.</p>

<blockquote>
  <p>To quote the <a href="https://www.amazon.com/gp/product/0735648735/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0735648735&amp;linkCode=as2&amp;tag=stepheclearys-20">Tomes</a> of <a href="https://www.amazon.com/gp/product/0735665877/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0735665877&amp;linkCode=as2&amp;tag=stepheclearys-20">Knowledge</a>, “Regardless of the type of I/O request, internally I/O operations issued to a driver on behalf of the application are performed asynchronously”.</p>
</blockquote>

<p>With the IRP “pending”, the OS returns to the library, which returns an incomplete task to the button click event handler, which suspends the async method, and the UI thread continues executing.</p>

<p>We have followed the request down into the abyss of the system, right out to the physical device.</p>

<p>The write operation is now “in flight”. How many threads are processing it?</p>

<p>None.</p>

<p>There is no device driver thread, OS thread, BCL thread, or thread pool thread that is processing that write operation. <strong>There is no thread.</strong></p>

<p>Now, let us follow the response from the land of kernel daemons back to the world of mortals.</p>

<p>Some time after the write request started, the device finishes writing. It notifies the CPU via an interrupt.</p>

<p>The device driver’s Interrupt Service Routine (ISR) responds to the interrupt. An interrupt is a CPU-level event, temporarily seizing control of the CPU away from whatever thread was running. You <em>could</em> think of an ISR as “borrowing” the currently-running thread, but I prefer to think of ISRs as executing at such a low level that the concept of “thread” doesn’t <em>exist</em> - so they come in “beneath” all threads, so to speak.</p>

<p>Anyway, the ISR is properly written, so all it does is tell the device “thank you for the interrupt” and queue a Deferred Procedure Call (DPC).</p>

<p>When the CPU is done being bothered by interrupts, it will get around to its DPCs. DPCs also execute at a level so low that to speak of “threads” is not quite right; like ISRs, DPCs execute directly on the CPU, “beneath” the threading system.</p>

<p>The DPC takes the IRP representing the write request and marks it as “complete”. However, that “completion” status only exists at the OS level; the process has its own memory space that must be notified. So the OS queues a special-kernel-mode Asynchronous Procedure Call (APC) to the thread owning the <code>HANDLE</code>.</p>

<p>Since the library/BCL is using the standard P/Invoke overlapped I/O system, it has already <a href="https://msdn.microsoft.com/en-us/library/system.threading.threadpool.bindhandle.aspx">registered the handle</a> with the I/O Completion Port (IOCP), which is part of the thread pool. So an I/O thread pool thread is borrowed briefly to execute the APC, which notifies the task that it’s complete.</p>

<p>The task has captured the UI context, so it does not resume the <code>async</code> method directly on the thread pool thread. Instead, it queues the continuation of that method onto the UI context, and the UI thread will resume executing that method when it gets around to it.</p>

<p>So, we see that there was no thread while the request was in flight. When the request completed, various threads were “borrowed” or had work briefly queued to them. This work is usually on the order of a millisecond or so (e.g., the APC running on the thread pool) down to a microsecond or so (e.g., the ISR). But there is no thread that was blocked, just waiting for that request to complete.</p>

<p class="center"><a href="./Async_Await - Hardware level implementation - There Is No Thread_files/Os2.png"><img src="./Async_Await - Hardware level implementation - There Is No Thread_files/Os2.png" alt=""></a></p>

<p>Now, the path that we followed was the “standard” path, somewhat simplified. There are countless variations, but the core truth remains the same.</p>

<p>The idea that “there must be a thread somewhere <em>processing</em> the asynchronous operation” is not the truth.</p>

<p>Free your mind. Do not try to find this “async thread” — that’s impossible. Instead, only try to realize the truth:</p>

<p><strong>There is no thread.</strong></p>

  </article>
    
    <footer class="hidden-print">
        
        
        <ul class="pager">
            <li class="previous"><a href="https://blog.stephencleary.com/2013/11/announcement-nitoasyncex-200.html" title="Announcement: Nito.AsyncEx 2.0.0">← Previous Post</a></li>
            <li class="next"><a href="https://blog.stephencleary.com/2013/12/azure-cache-serialization-with-json.html" title="Azure Cache Serialization (with JSON!)">Next Post →</a></li>
        </ul>

        <div id="comments"><div><button class="btn btn-primary comment-new"><i class="fa fa-plus-square"></i> New Comment</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value=""><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-a9c681f3-cc6d-3c00-85e6-08c26258bb1e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Alvin</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="http://www.blogger.com/profile/03892201689252059476">http://www.blogger.com/profile/03892201689252059476</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a9c681f3-cc6d-3c00-85e6-08c26258bb1e" title="permalink">7 years ago (2013-11-22 11:18:48 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Awesome post! Thanks for explaining it so clearly!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="a9c681f3-cc6d-3c00-85e6-08c26258bb1e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a9c681f3-cc6d-3c00-85e6-08c26258bb1e">In reply to Alvin</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-73a45221-7016-310e-b8aa-7f4a919ff779"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-73a45221-7016-310e-b8aa-7f4a919ff779" title="permalink">7 years ago (2013-11-25 11:22:40 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Amazing explanation in such a difficult and complicated concept! Thank you!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="73a45221-7016-310e-b8aa-7f4a919ff779"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-73a45221-7016-310e-b8aa-7f4a919ff779">In reply to Anonymous</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7ee10dd0-b43e-38e3-b875-2aed2bffd3fc"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7ee10dd0-b43e-38e3-b875-2aed2bffd3fc" title="permalink">7 years ago (2013-11-26 09:40:17 am)</a></div></div><div class="comment-message" style="clear:both;"><p>really good post. Thanks!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7ee10dd0-b43e-38e3-b875-2aed2bffd3fc"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7ee10dd0-b43e-38e3-b875-2aed2bffd3fc">In reply to Anonymous</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0f8f14ce-b74d-3ff6-b38b-3df24405c9a1"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0f8f14ce-b74d-3ff6-b38b-3df24405c9a1" title="permalink">7 years ago (2013-12-03 11:16:41 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Very enlightening! Thank you Stephen.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0f8f14ce-b74d-3ff6-b38b-3df24405c9a1"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0f8f14ce-b74d-3ff6-b38b-3df24405c9a1">In reply to Anonymous</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-53b9d541-3641-3632-b7b3-7d9774023b2e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Noseratio</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="http://www.blogger.com/profile/15542702475870519357">http://www.blogger.com/profile/15542702475870519357</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-53b9d541-3641-3632-b7b3-7d9774023b2e" title="permalink">7 years ago (2014-01-22 02:52:29 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>A must-read for any asynchronous code developer. I keep linking to it on SO. Thanks Stephen! </p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="53b9d541-3641-3632-b7b3-7d9774023b2e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-53b9d541-3641-3632-b7b3-7d9774023b2e">In reply to Noseratio</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d059f9c3-04f8-3224-8b49-5289000e88ac"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Paul</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="http://blog.paulbetts.org/">http://blog.paulbetts.org/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d059f9c3-04f8-3224-8b49-5289000e88ac" title="permalink">7 years ago (2014-01-26 03:12:39 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Great article, though I am compelled to Well Actually you on one point:  </p>
<p>"DPCs also execute at a level so low that to speak of "threads" is not quite right; like ISRs, DPCs execute directly on the CPU, "beneath" the threading system."  </p>
<p>This isn't strictly true. While ISRs don't particularly have a concept of thread (a kernel developer would call it "Arbitrary context"), DPCs specifically <em>do</em> execute in the context of a thread. Now, <em>which</em> thread, is the question! They are run before the next scheduled thread has a chance to do anything - they are part of the scheduler. Since kernel memory is mapped into every process, what they need is always available.   </p>
<p>That word up there, "context" is super important - a thread is, at its simplest, a context in which to run code. Async operations <em>jump contexts</em> as they are being processed, they're not tied to a specific context (i.e. a thread).  </p>
<p>It's better to think of an async operation as a 'message' that gets passed around, and that message changes forms several times (i.e. from a system call =&gt; IRP =&gt; APC =&gt; UI Dispatcher Queue item). Every time this message is processed, it ends up changing forms</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d059f9c3-04f8-3224-8b49-5289000e88ac"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d059f9c3-04f8-3224-8b49-5289000e88ac">In reply to Paul</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-a8dd8eac-88e2-3dde-b645-4a475a8dfb1f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a8dd8eac-88e2-3dde-b645-4a475a8dfb1f" title="permalink">6 years ago (2015-07-27 10:06:25 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d059f9c3-04f8-3224-8b49-5289000e88ac">In reply to Paul</a></div></div><div class="comment-message" style="clear:both;"><p>(Copying from my answer two years ago; the blog migration messed up the comment threads, sorry!)</p>
<p>Thanks for your comment; I love the "message" description!</p>
<p>But I'm not sure I agree with you re DPCs (not that it really matters; the details of semantics aren't that important in this case). My reasoning is:  </p>
<ul>
<li>A thread does not have a DPC queue, but CPUs do. A DPC can be scheduled to a specific CPU, but not a specific thread.  </li>
<li>DPCs are executed (at IRQL DISPATCH_LEVEL) when the CPU IRQL is transitioning from a higher level to DISPATCH_LEVEL or lower (e.g., PASSIVE_LEVEL). So they execute before normal thread code can resume.  </li>
<li>While a DPC does execute with a thread context in the narrowest sense (CONTEXT), it does not execute with a valid thread context in the broader sense (able to use the security context of the current thread). So, they may execute in a thread context, they must be written to run in an arbitrary thread context.  </li>
<li>A DPC is still very constrained in the code it can run as compared to code running as a part of a thread. In particular, no page faults are allowed.  </li>
<li>Interrupts are masked while a DPC is running.</li>
</ul>
<p>Also, these quotes from MS:  </p>
<ul>
<li>"The system schedules all threads to run at IRQLs below DISPATCH_LEVEL." ("Scheduling, Thread Context, and IRQL", <a href="http://msdn.microsoft.com/en-us/windows/hardware/gg487402.aspx" rel="nofollow noopener">http://msdn.microsoft.com/en-us/windows/hardware/gg487402.aspx</a> )  </li>
<li>"IRQLs at or above DISPATCH_LEVEL are processor specific… IRQLs below DISPATCH_LEVEL are thread specific." (ibid)  </li>
<li>"Code that is running at PASSIVE_LEVEL is considered to be working on behalf of the current thread." (ibid)  </li>
<li>"DPCs … are always called … in an arbitrary thread context." (ibid)  </li>
<li>"Before a processor returns to processing threads, it executes all of the DPCs in its queue." ("CPU Analysis", <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj679884.aspx" rel="nofollow noopener">http://msdn.microsoft.com/en-us/library/windows/hardware/jj679884.aspx</a> )</li>
</ul>
<p>I came across these quotes while trying to find out whether a DPC actually counts against the current thread's quantum. I was unable to find a definitive answer. :(</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="a8dd8eac-88e2-3dde-b645-4a475a8dfb1f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a8dd8eac-88e2-3dde-b645-4a475a8dfb1f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0a5def96-9136-341d-807b-496d18c7f85e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/5164af4f96639d26aa14d0570108de15"></div><div class="comment-author"><span class="comment-author-name">SharpTag</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0a5def96-9136-341d-807b-496d18c7f85e" title="permalink">4 years ago (2016-09-06 07:37:16 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a8dd8eac-88e2-3dde-b645-4a475a8dfb1f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>In case anyone wanders by and starts to build a mental model of this, just think of the DPC as part of the Windows Kernel. It is just getting the next available time slice which means it runs in whatever thread or process the scheduler has running but it has no interaction with the thread other than the ability to clobber RAM anywhere on the computer. Although it can only be interrupted by NMI, the fun part of the mental model is that there is a DPC Queue for every Core on the CPU. So the next slice could be on any Core. If the device has another ISR which most often is the case you now have more than one DPC servicing your Async request. Now everything is at the mercy of the Device Driver programmer to SpinLock the right memory locations and coordinate all the literally non-time sliced but actually simultaneous DPC's so that I/O completes without incident and starts the more orderly sequence nicely described in the article to return to Windows Userland. There really isn't any analogy or sense to be made out of the DPC system from the perspective of a C# programmer, but it is awesome to visualize your code running simultaneously and that SpinLocks are executing constantly on everyone's computer to make this system work. If you have 8 cores, they all stop completely dead doing absolutely nothing during the few microseconds of the lock. Not elegant at all!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0a5def96-9136-341d-807b-496d18c7f85e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0a5def96-9136-341d-807b-496d18c7f85e">In reply to SharpTag</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-f73cd44c-c2b6-3ad9-98f0-e160a38b127c"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/f3cc7fed3c952511b85cfb1c822ecb75"></div><div class="comment-author"><span class="comment-author-name">NetMage</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f73cd44c-c2b6-3ad9-98f0-e160a38b127c" title="permalink">3 years ago (2018-04-18 12:47:43 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d059f9c3-04f8-3224-8b49-5289000e88ac">In reply to Paul</a></div></div><div class="comment-message" style="clear:both;"><p>Now that kernel memory is no longer mapped into every process, I wonder how this changes?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="f73cd44c-c2b6-3ad9-98f0-e160a38b127c"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f73cd44c-c2b6-3ad9-98f0-e160a38b127c">In reply to NetMage</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-62b1b4e0-4952-3372-a59c-feaad71d6b97"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-62b1b4e0-4952-3372-a59c-feaad71d6b97" title="permalink">7 years ago (2014-01-27 03:48:32 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks for your comment; I love the "message" description!  </p>
<p>But I'm not sure I agree with you re DPCs (not that it really matters; the details of semantics aren't that important in this case). My reasoning is:  </p>
<ul>
<li>A thread does not have a DPC queue, but CPUs do. A DPC can be scheduled to a specific CPU, but not a specific thread.  </li>
<li>DPCs are executed (at IRQL DISPATCH_LEVEL) when the CPU IRQL is transitioning from a higher level to DISPATCH_LEVEL or lower (e.g., PASSIVE_LEVEL). So they execute before normal thread code can resume.  </li>
<li>While a DPC does execute with a thread context in the narrowest sense (CONTEXT), it does not execute with a valid thread context in the broader sense (able to use the security context of the current thread). So, they may execute in a thread context, they must be written to run in an arbitrary thread context.  </li>
<li>A DPC is still very constrained in the code it can run as compared to code running as a part of a thread. In particular, no page faults are allowed.  </li>
<li>Interrupts are masked while a DPC is running.  </li>
</ul>
<p>Also, these quotes from MS:  </p>
<ul>
<li>"The system schedules all threads to run at IRQLs below DISPATCH_LEVEL." ("Scheduling, Thread Context, and IRQL", <a href="http://msdn.microsoft.com/en-us/windows/hardware/gg487402.aspx" rel="nofollow noopener">http://msdn.microsoft.com/en-us/windows/hardware/gg487402.aspx</a>)  </li>
<li>"IRQLs at or above DISPATCH_LEVEL are processor specific… IRQLs below DISPATCH_LEVEL are thread specific." (ibid)  </li>
<li>"Code that is running at PASSIVE_LEVEL is considered to be working on behalf of the current thread." (ibid)  </li>
<li>"DPCs … are always called … in an arbitrary thread context." (ibid)  </li>
<li>"Before a processor returns to processing threads, it executes all of the DPCs in its queue." ("CPU Analysis", <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj679884.aspx" rel="nofollow noopener">http://msdn.microsoft.com/en-us/library/windows/hardware/jj679884.aspx</a>)  </li>
</ul>
<p>I came across these quotes while trying to find out whether a DPC actually counts against the current thread's quantum. I was unable to find a definitive answer. :(</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="62b1b4e0-4952-3372-a59c-feaad71d6b97"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-62b1b4e0-4952-3372-a59c-feaad71d6b97">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-77fa175f-daf9-3772-85f1-ca51cbfcd0c6"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Eric Lemes</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="http://www.blogger.com/profile/04209337471330041525">http://www.blogger.com/profile/04209337471330041525</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-77fa175f-daf9-3772-85f1-ca51cbfcd0c6" title="permalink">7 years ago (2014-02-28 09:31:56 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Stephen,  </p>
<p>Awesome post. I still have one doubt:  </p>
<p>"Since the library/BCL is using the standard P/Invoke overlapped I/O system, it has already registered the handle with the I/O Completion Port (IOCP), which is part of the thread pool. So an I/O thread pool thread is borrowed briefly to execute the APC, which notifies the task that it's complete."  </p>
<p>What do you mean by an I/O thread pool thread, you mean one of the threads that are registered in the I/O completion port?   </p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="77fa175f-daf9-3772-85f1-ca51cbfcd0c6"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-77fa175f-daf9-3772-85f1-ca51cbfcd0c6">In reply to Eric Lemes</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-65415d44-a506-3348-99ad-5ad5193bd670"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-65415d44-a506-3348-99ad-5ad5193bd670" title="permalink">6 years ago (2015-07-27 10:04:33 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-77fa175f-daf9-3772-85f1-ca51cbfcd0c6">In reply to Eric Lemes</a></div></div><div class="comment-message" style="clear:both;"><p>(Copying from my answer a year ago; the blog migration messed up the comment threads, sorry!)</p>
<p>Yes, it's one of the I/O threads in the thread pool. The ThreadPool keeps a number of threads registered in its IOCP; these are different than the worker threads that most people associate with the ThreadPool. The ThreadPool manages both worker thread and I/O threads.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="65415d44-a506-3348-99ad-5ad5193bd670"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>a few seconds ago (2021-03-06 12:35:47 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-65415d44-a506-3348-99ad-5ad5193bd670">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-54be7a0b-fb1c-300f-94cb-78c38c8bbb35"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/e27d0d968a30bd3ab6fc056fc5065bf0"></div><div class="comment-author"><span class="comment-author-name">damn_right _man</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-54be7a0b-fb1c-300f-94cb-78c38c8bbb35" title="permalink">4 years ago (2016-10-02 03:07:35 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-65415d44-a506-3348-99ad-5ad5193bd670">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>I agree. Nice comment on that topic.</p>
<p>But wait, and, sorry, that I comment that late. Perhaps we need an explained sample code, which does not involve io at that level. Let's say, the method, which is being awaited to finish execution, simply calculates complex stuff like matrix multiplications, whatsoever. Where is this execution context present if not in a threadpool thread?<br>
Th UI remains responsive. The asynch method is re-invoked at the first statement after the await keyword (continuations allow the recreation of the context,etc…), and the callstack now changed dramatically. This can only be explained with an additional threadpool thread, can't it?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="54be7a0b-fb1c-300f-94cb-78c38c8bbb35"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-54be7a0b-fb1c-300f-94cb-78c38c8bbb35">In reply to damn_right _man</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d97855e0-b7c4-3f65-914c-d5acc5c4f23e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d97855e0-b7c4-3f65-914c-d5acc5c4f23e" title="permalink">4 years ago (2016-10-03 07:40:34 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-54be7a0b-fb1c-300f-94cb-78c38c8bbb35">In reply to damn_right _man</a></div></div><div class="comment-message" style="clear:both;"><p>If you have CPU-bound code to run, then that code has to run on a thread.</p>
<p>Now, you can push the CPU-bound code to a thread pool thread (e.g., <code>Task.Run</code>) and then await it from the UI thread so that your UI thread is not blocked. But that's not an actual asynchronous operation - it's a synchronous operation on another thread.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d97855e0-b7c4-3f65-914c-d5acc5c4f23e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d97855e0-b7c4-3f65-914c-d5acc5c4f23e">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-837f091a-f954-3af5-8085-5b04c1d6058a"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/e27d0d968a30bd3ab6fc056fc5065bf0"></div><div class="comment-author"><span class="comment-author-name">damn_right _man</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-837f091a-f954-3af5-8085-5b04c1d6058a" title="permalink">4 years ago (2016-10-03 10:56:26 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d97855e0-b7c4-3f65-914c-d5acc5c4f23e">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>I know, that spawning a thread makes the thread itself being executed synchroneous for itself, but globally, at the program(process) level all threads together run parallel, and therefore asynchroneous. Ok, one thread, which awaits the results of others, can only proceed with a logic, if a thread returns, but, still, it can process other code, which does not depend on the said threads result. </p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="837f091a-f954-3af5-8085-5b04c1d6058a"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-837f091a-f954-3af5-8085-5b04c1d6058a">In reply to damn_right _man</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-c1ed4292-d186-3d4c-a3d4-184f2287b1aa"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c1ed4292-d186-3d4c-a3d4-184f2287b1aa" title="permalink">4 years ago (2016-10-04 12:11:55 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-837f091a-f954-3af5-8085-5b04c1d6058a">In reply to damn_right _man</a></div></div><div class="comment-message" style="clear:both;"><p>Yes, you can think of the term "asynchronous" as requiring two points of reference. A background thread may be treated asynchronously by the UI thread, and would be "asynchronous" from the UI thread's perspective. On the other hand, I/O is "asynchronous" from a much broader scope (it would be "asynchronous" from the perspective of <em>any</em> thread, or process, or the OS, or the CPU).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="c1ed4292-d186-3d4c-a3d4-184f2287b1aa"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c1ed4292-d186-3d4c-a3d4-184f2287b1aa">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ee9053a3-1323-3b33-89e8-47d4f8b9ca69"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/e27d0d968a30bd3ab6fc056fc5065bf0"></div><div class="comment-author"><span class="comment-author-name">damn_right _man</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ee9053a3-1323-3b33-89e8-47d4f8b9ca69" title="permalink">4 years ago (2016-10-04 12:15:00 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c1ed4292-d186-3d4c-a3d4-184f2287b1aa">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Hence the request for another explained sample without this io. </p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ee9053a3-1323-3b33-89e8-47d4f8b9ca69"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ee9053a3-1323-3b33-89e8-47d4f8b9ca69">In reply to damn_right _man</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-b03d0956-b5dc-3c0e-b680-01cfdf5ac4e5"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/d7d0a9abf32a790bbef91e3f03a4154b"></div><div class="comment-author"><span class="comment-author-name">teoman shipahi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b03d0956-b5dc-3c0e-b680-01cfdf5ac4e5" title="permalink">4 years ago (2016-10-25 12:37:17 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-837f091a-f954-3af5-8085-5b04c1d6058a">In reply to damn_right _man</a></div></div><div class="comment-message" style="clear:both;"><p>"In the general case, an asynchronous call does not necessarily create a new thread." <a href="http://stackoverflow.com/a/600804/929902" rel="nofollow noopener">http://stackoverflow.com/a/600804/929902</a></p>
<p>If you are creating multiple threads to simulate asynchronous operation, this will not scale. You are limited number of cores in CPU till you max out your thread count. So, your 3rd party API s or your own I/O drivers need to support async processing and they have to respond DPC fast.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="b03d0956-b5dc-3c0e-b680-01cfdf5ac4e5"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b03d0956-b5dc-3c0e-b680-01cfdf5ac4e5">In reply to teoman shipahi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-f4f38efe-a439-30b7-854a-eaa677a09d34"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/e27d0d968a30bd3ab6fc056fc5065bf0"></div><div class="comment-author"><span class="comment-author-name">damn_right _man</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f4f38efe-a439-30b7-854a-eaa677a09d34" title="permalink">4 years ago (2016-10-04 12:13:54 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d97855e0-b7c4-3f65-914c-d5acc5c4f23e">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Hence the request for an explained sample, which does not include this io. I think, You get, why. </p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="f4f38efe-a439-30b7-854a-eaa677a09d34"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f4f38efe-a439-30b7-854a-eaa677a09d34">In reply to damn_right _man</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-42f4bb1d-3d19-34c1-a1b8-98ed81ff3933"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-42f4bb1d-3d19-34c1-a1b8-98ed81ff3933" title="permalink">7 years ago (2014-02-28 11:16:02 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Yes, it's one of the I/O threads in the thread pool. The ThreadPool keeps a number of threads registered in its IOCP; these are different than the worker threads that most people associate with the ThreadPool. The ThreadPool manages both worker thread and I/O threads.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="42f4bb1d-3d19-34c1-a1b8-98ed81ff3933"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-42f4bb1d-3d19-34c1-a1b8-98ed81ff3933">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-134e36ed-3980-31ad-93ab-0a06967de74b"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Keyse</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="http://www.blogger.com/profile/14078171403075259352">http://www.blogger.com/profile/14078171403075259352</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-134e36ed-3980-31ad-93ab-0a06967de74b" title="permalink">7 years ago (2014-03-15 12:00:02 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Instead should the article's title be: "There is no (worker) thread." ;) But GREAT Article. LOVE IT.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="134e36ed-3980-31ad-93ab-0a06967de74b"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-134e36ed-3980-31ad-93ab-0a06967de74b">In reply to Keyse</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-70f1f479-2026-37ca-b72b-c04531e07d1b"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/985fe39da7f73dd82f717764ceb17fe5"></div><div class="comment-author"><span class="comment-author-name">artelk</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-70f1f479-2026-37ca-b72b-c04531e07d1b" title="permalink">5 years ago (2016-05-06 05:40:10 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-134e36ed-3980-31ad-93ab-0a06967de74b">In reply to Keyse</a></div></div><div class="comment-message" style="clear:both;"><p>"There is no additional thread (to wait this additional async IO operation)"</p>
<p>Actually sometimes ThreadPool can create new threads to handle IOCP completions. But the number of that threads won't significantly exceed the number of CPU cores.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="70f1f479-2026-37ca-b72b-c04531e07d1b"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-70f1f479-2026-37ca-b72b-c04531e07d1b">In reply to artelk</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-90633b22-3a06-3948-815a-e9ea52c0a78b"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Guest</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-90633b22-3a06-3948-815a-e9ea52c0a78b" title="permalink">7 years ago (2014-06-11 09:14:31 am)</a></div></div><div class="comment-message" style="clear:both;"><p>What nonsense. I suggest you read the following article and stop posing yourself as an expert. <a href="http://www.drdobbs.com/cpp/multithreaded-asynchronous-io-io-comple/201202921" rel="nofollow noopener">http://www.drdobbs.com/cpp/multithreaded-asynchronous-io-io-comple/201202921</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="90633b22-3a06-3948-815a-e9ea52c0a78b"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-90633b22-3a06-3948-815a-e9ea52c0a78b">In reply to Guest</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-2a20288d-f510-32f6-93f5-2f6dcb9ca8a7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2a20288d-f510-32f6-93f5-2f6dcb9ca8a7" title="permalink">7 years ago (2014-06-17 02:09:14 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-90633b22-3a06-3948-815a-e9ea52c0a78b">In reply to Guest</a></div></div><div class="comment-message" style="clear:both;"><p>OK, I read it. Not sure why you think IOCPs invalidate my post.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="2a20288d-f510-32f6-93f5-2f6dcb9ca8a7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2a20288d-f510-32f6-93f5-2f6dcb9ca8a7">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ed864178-7dcb-37c3-af34-6345965278f8"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/27b1f6a2716cd1f8159480eb91abca66.jpeg"></div><div class="comment-author"><span class="comment-author-name">Rasik Bihari Tiwari</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed864178-7dcb-37c3-af34-6345965278f8" title="permalink">7 years ago (2014-06-20 06:20:09 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Nice to know the internal details of async operations. Very enlightening.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ed864178-7dcb-37c3-af34-6345965278f8"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed864178-7dcb-37c3-af34-6345965278f8">In reply to Rasik Bihari Tiwari</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0f4118e4-3ef4-305a-8b7f-ec2c77155ca3"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3c66282a10af8908ad315d4247c63f14"></div><div class="comment-author"><span class="comment-author-name">Sam Penn</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0f4118e4-3ef4-305a-8b7f-ec2c77155ca3" title="permalink">7 years ago (2014-06-27 01:41:55 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>nice post, but what you were talking about is only limited to async call chains that eventually pass down to IO operations (or IRP). if the async function is just a long-lasting pure CPU operation, say, very complex math calculation that can takes 1 minute to finish, you will inevitably create a new calculating thread(Task.Run or Thread.Start?) so that it does not block the caller. do i understand it right?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0f4118e4-3ef4-305a-8b7f-ec2c77155ca3"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0f4118e4-3ef4-305a-8b7f-ec2c77155ca3">In reply to Sam Penn</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-82a4ab2b-b9bb-3c6f-b048-ae7ee169f98f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-82a4ab2b-b9bb-3c6f-b048-ae7ee169f98f" title="permalink">7 years ago (2014-07-11 06:54:53 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0f4118e4-3ef4-305a-8b7f-ec2c77155ca3">In reply to Sam Penn</a></div></div><div class="comment-message" style="clear:both;"><p>Yes; this post is specifically referring to I/O-bound operations. If you have a CPU-bound operation, then that code must run somewhere.</p>
<p>CPU-bound operations are inherently synchronous. One thread can <em>pretend</em> it's asynchronous by offloading it to another thread. E.g., the UI thread can <em>pretend</em> the CPU-bound code is asynchronous by wrapping it in Task.Run. From the perspective of the UI thread, it appears to be asynchronous (i.e., it can await the operation). But from the perspective of the other thread (the thread pool thread), it's still synchronous.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="82a4ab2b-b9bb-3c6f-b048-ae7ee169f98f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-82a4ab2b-b9bb-3c6f-b048-ae7ee169f98f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-f6883af5-6da0-3dd0-9cba-ac5148b6758c"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/6528723e3bca2d1b8a97f93ba1130c11"></div><div class="comment-author"><span class="comment-author-name">Joe Messere</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f6883af5-6da0-3dd0-9cba-ac5148b6758c" title="permalink">6 years ago (2015-03-12 06:13:07 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-82a4ab2b-b9bb-3c6f-b048-ae7ee169f98f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Stephen. I have an extension of this question. Lets say we have a call chain of 10 methods that all return a Task of some form. In each method an await is done to another async method. However all of these methods are simply synchronous operations that perform basic logic. If there is not a Task.Run in any of the methods will the entire call chain execute synchronously? Would this just then be a "phantom" async method that you are calling?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="f6883af5-6da0-3dd0-9cba-ac5148b6758c"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f6883af5-6da0-3dd0-9cba-ac5148b6758c">In reply to Joe Messere</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-51d36361-6345-32cf-a840-ac49d5368b8e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-51d36361-6345-32cf-a840-ac49d5368b8e" title="permalink">6 years ago (2015-03-12 07:06:05 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f6883af5-6da0-3dd0-9cba-ac5148b6758c">In reply to Joe Messere</a></div></div><div class="comment-message" style="clear:both;"><p>Yes; a method marked as "async" may only become asynchronous when it performs an "await". I assume at the end of your call chain, you'd have an async method without an await - and the compiler will warn you that it will execute synchronously.</p>
<p>The core idea to keep in mind is that a method should only be marked "async" if it has asynchronous work to do. If the method only has synchronous work to do, then it should have a synchronous API, not an asynchronous (Task-returning) one. So, in your example, the entire call chain should be synchronous, not asynchronous.</p>
<p>Now, if you're in a UI context and you want to avoid blocking your UI thread, then you can <em>call</em> synchronous code asynchronously by using Task.Run. Task.Run will synchronously block a thread pool thread, allowing the UI thread to treat the work asynchronously. Note that I recommend using Task.Run from the UI layer rather than in the method implementations; this approach has two advantages:</p>
<p>1) The method APIs don't lie. They have only synchronous work to do, so they expose a synchronous API.</p>
<p>2) The methods are more reusable. They won't force work onto background threads unnecessarily, i.e., they can be called directly (synchronously) by code that is already on a background thread or from an ASP.NET context.</p>
<p>I have more info in my "Task.Run Etiquette" series: <a href="http://blog.stephencleary.com/2013/10/taskrun-etiquette-and-proper-usage.html" rel="nofollow noopener">http://blog.stephencleary.com/2013/10/taskrun-etiquette-and-proper-usage.html</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="51d36361-6345-32cf-a840-ac49d5368b8e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-51d36361-6345-32cf-a840-ac49d5368b8e">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-206b600d-4804-346b-8a48-2f0b7fb90a78"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/6528723e3bca2d1b8a97f93ba1130c11"></div><div class="comment-author"><span class="comment-author-name">Joe Messere</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-206b600d-4804-346b-8a48-2f0b7fb90a78" title="permalink">6 years ago (2015-03-12 07:33:34 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f6883af5-6da0-3dd0-9cba-ac5148b6758c">In reply to Joe Messere</a></div></div><div class="comment-message" style="clear:both;"><p>I just ran some tests and it seems this is in fact the case. This makes sense as no new threads are created to handle the work. So internally I am assuming the tasks always return as completed right away.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="206b600d-4804-346b-8a48-2f0b7fb90a78"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-206b600d-4804-346b-8a48-2f0b7fb90a78">In reply to Joe Messere</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-74e51b75-7b88-3391-a65d-025f569f62e6"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-74e51b75-7b88-3391-a65d-025f569f62e6" title="permalink">6 years ago (2015-03-12 09:09:50 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-206b600d-4804-346b-8a48-2f0b7fb90a78">In reply to Joe Messere</a></div></div><div class="comment-message" style="clear:both;"><p>You might find my async/await intro helpful: <a href="http://blog.stephencleary.com/2012/02/async-and-await.html" rel="nofollow noopener">http://blog.stephencleary.com/2012/02/async-and-await.html</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="74e51b75-7b88-3391-a65d-025f569f62e6"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-74e51b75-7b88-3391-a65d-025f569f62e6">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-51bf0412-2e1c-3676-a17b-1a28b04adf70"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/82df17885fa751600eac9fa114cae9e8"></div><div class="comment-author"><span class="comment-author-name">Dave Parsons</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-51bf0412-2e1c-3676-a17b-1a28b04adf70" title="permalink">3 years ago (2017-11-07 07:52:32 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-74e51b75-7b88-3391-a65d-025f569f62e6">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Dear Mr. Cleary,<br>
when I rears your series of articles or your book,, I am reading the words of a both a consummate professional and a man of God. As a fellow Christian, I say thank you sir.. .Please keep on fighting the good fight of faith while continuing to contribute to the rewarding world of .NET Development. And by the way, unless I am misunderstanding a slight movement in technical documentation, there seems to be a slight trend towards message passing architectures and even the use of the Message Passing Interface as a standard in a managed code. .</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="51bf0412-2e1c-3676-a17b-1a28b04adf70"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-51bf0412-2e1c-3676-a17b-1a28b04adf70">In reply to Dave Parsons</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-6d18f128-2d15-3264-bc46-948e435c1340"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6d18f128-2d15-3264-bc46-948e435c1340" title="permalink">3 years ago (2017-11-08 02:44:26 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-51bf0412-2e1c-3676-a17b-1a28b04adf70">In reply to Dave Parsons</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks for the kind words!</p>
<p>Message passing architectures are definitely becoming more common, I assume as a natural outgrowth of cloud computing. I haven't seen MPI in managed code (or really at all for many years); that would be an interesting combination.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="6d18f128-2d15-3264-bc46-948e435c1340"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6d18f128-2d15-3264-bc46-948e435c1340">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-3bdb1e74-f918-3885-831d-4f28c51c5b6f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/fbff5199443cb5ba1600a2068af03964.jpeg"></div><div class="comment-author"><span class="comment-author-name">Rafael Nicoletti</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3bdb1e74-f918-3885-831d-4f28c51c5b6f" title="permalink">4 years ago (2017-01-25 05:32:38 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0f4118e4-3ef4-305a-8b7f-ec2c77155ca3">In reply to Sam Penn</a></div></div><div class="comment-message" style="clear:both;"><p>Let's suppose you have a tcp connection and issues a ReadAsync</p>
<p>When you execute this method, it issues a read operation on network driver level and signal the driver you're waiting a completion from this command.</p>
<p>When the read is complete (at network driver level), the signaled notification you sent together with readasync is signaled. Behind the scenes, the "callback" is scheduled on thread pool and eventually called.</p>
<p>If you do something that block on that callback, you're going to consume all threads on the thread pool (supposing there's a lot of tcp connections doing ReadAsync simultaneously).</p>
<p>But the ReadAsync will continue to be issued as the thread pool is not being used to send that command to the network driver.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="3bdb1e74-f918-3885-831d-4f28c51c5b6f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3bdb1e74-f918-3885-831d-4f28c51c5b6f">In reply to Rafael Nicoletti</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d4692f6c-c3fc-329a-80ac-4cbb7e3c4403"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/b3d0b8f681ed398a28c9bd288d7c1f96.jpeg"></div><div class="comment-author"><span class="comment-author-name">John Peters</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d4692f6c-c3fc-329a-80ac-4cbb7e3c4403" title="permalink">7 years ago (2014-07-18 01:33:53 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Interesting, perhaps this is why MSFT claims that TASKs have no CPU affinity rather than saying Thread affinity. But I think the sample is too simplistic because it implies there is a BCL equivalent call to the .NET statement of WriteAsynch. What happens when some simple .NET statements like "var a = 10 + 12" happens? That code must be run on a thread using Gen'd IML code. In fact, when debugging Task.Factory.Start…. in the debugger by threads, we see a new thread for each start don't we?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d4692f6c-c3fc-329a-80ac-4cbb7e3c4403"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d4692f6c-c3fc-329a-80ac-4cbb7e3c4403">In reply to John Peters</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d8262ce3-d34d-3559-b894-7ba8ae9af286"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d8262ce3-d34d-3559-b894-7ba8ae9af286" title="permalink">7 years ago (2014-07-20 11:01:41 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d4692f6c-c3fc-329a-80ac-4cbb7e3c4403">In reply to John Peters</a></div></div><div class="comment-message" style="clear:both;"><p>This post is about tasks that represent I/O operations. If you have a CPU-bound task, then yes, that code must run somewhere. You can use Task.Run (or Task.Factory.StartNew) to queue that code to the thread pool, which will create a thread only if necessary.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d8262ce3-d34d-3559-b894-7ba8ae9af286"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d8262ce3-d34d-3559-b894-7ba8ae9af286">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-8b34bee4-7c15-3e92-9d68-c7c9be9bd10a"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/69e47bbeae22b8dd9cb37ddcca94f6a9.jpeg"></div><div class="comment-author"><span class="comment-author-name">Tejas Vora</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8b34bee4-7c15-3e92-9d68-c7c9be9bd10a" title="permalink">7 years ago (2014-07-19 12:41:32 am)</a></div></div><div class="comment-message" style="clear:both;"><p>So the question is: Should I use <code>async</code> and <code>await</code> for the computation-bound operations in UI applications? Or I should only use it with I/O-bound operations?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="8b34bee4-7c15-3e92-9d68-c7c9be9bd10a"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8b34bee4-7c15-3e92-9d68-c7c9be9bd10a">In reply to Tejas Vora</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-8971cb8b-776f-3fa4-ac4f-20e38e50fe45"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8971cb8b-776f-3fa4-ac4f-20e38e50fe45" title="permalink">7 years ago (2014-07-20 11:04:52 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8b34bee4-7c15-3e92-9d68-c7c9be9bd10a">In reply to Tejas Vora</a></div></div><div class="comment-message" style="clear:both;"><p>Yes, in UI apps you should use Task.Run to push CPU-bound work to the thread pool. Of course, the code must run somewhere, so in this case there is a thread that is used to execute that code.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="8971cb8b-776f-3fa4-ac4f-20e38e50fe45"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8971cb8b-776f-3fa4-ac4f-20e38e50fe45">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-13b84301-cb0b-31f3-8b3c-79e2088f1ef1"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/9f28cf5977385aae254f6d12251b6745"></div><div class="comment-author"><span class="comment-author-name">Cole Thatcher</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-13b84301-cb0b-31f3-8b3c-79e2088f1ef1" title="permalink">7 years ago (2014-09-05 01:18:51 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Aren't you still posting making use of the threadpool threads though (for continuations and servicing completion of the async call?)? The point I'm trying to make is, it's not safe to say "there's no thread", rather "no thread is blocked". Developers should still be aware of CPU usage and make sure they don't eat up all thread-pool threads elsewhere in the application and automagically expect async operations to finish.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="13b84301-cb0b-31f3-8b3c-79e2088f1ef1"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-13b84301-cb0b-31f3-8b3c-79e2088f1ef1">In reply to Cole Thatcher</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0524a472-b549-3281-918a-716fe8834378"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0524a472-b549-3281-918a-716fe8834378" title="permalink">7 years ago (2014-09-05 05:22:20 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-13b84301-cb0b-31f3-8b3c-79e2088f1ef1">In reply to Cole Thatcher</a></div></div><div class="comment-message" style="clear:both;"><p>Yes, as I say in the article, "When the request completed, various threads were “borrowed” or had work briefly queued to them." Completing an I/O operation is not CPU-intensive.</p>
<p>In theory, it is possible that if the thread pool is starved, it would prevent async operations from finishing. However, this is extremely rare, especially since I/O completion port threads are different than CPU thread pool threads (the ThreadPool class is really two thread pools in one).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0524a472-b549-3281-918a-716fe8834378"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0524a472-b549-3281-918a-716fe8834378">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d45d2368-4bf6-3b2e-ab4a-c5a3dc43a343"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/02005278d93e3927c061d5022e68c1c8"></div><div class="comment-author"><span class="comment-author-name">quazecoatl</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d45d2368-4bf6-3b2e-ab4a-c5a3dc43a343" title="permalink">6 years ago (2014-09-17 08:17:43 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you for this article, great info.<br>
Your example is for a generic 'myDevice.WriteAsync'<br>
I wished however if you could give the same example for a much more common one, using HttpClient.<br>
Also, I wished you could give a little more detail about how the resuming on the async method is done.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d45d2368-4bf6-3b2e-ab4a-c5a3dc43a343"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d45d2368-4bf6-3b2e-ab4a-c5a3dc43a343">In reply to quazecoatl</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0ab6974d-0896-3a5c-a067-a2f780792863"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0ab6974d-0896-3a5c-a067-a2f780792863" title="permalink">6 years ago (2014-09-17 08:30:48 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d45d2368-4bf6-3b2e-ab4a-c5a3dc43a343">In reply to quazecoatl</a></div></div><div class="comment-message" style="clear:both;"><p>HttpClient uses the exact same principle, except it's a combination of operations. An Http Get is just a write followed by a read. So it's a bit more complex but the same principle applies: there is no thread blocked waiting for the written bytes to go out on the network, and there is no thread that is blocked just waiting for the reply.</p>
<p>Regarding resuming async methods, I cover that in detail here: <a href="http://blog.stephencleary.com/2012/02/async-and-await.html" rel="nofollow noopener">http://blog.stephencleary.com/2012/02/async-and-await.html</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0ab6974d-0896-3a5c-a067-a2f780792863"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0ab6974d-0896-3a5c-a067-a2f780792863">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-3045767d-a518-31c9-a77a-dd85ce6fe9c9"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3decb53828ce2c77a7fb28f7fd987234.png"></div><div class="comment-author"><span class="comment-author-name">Chin</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3045767d-a518-31c9-a77a-dd85ce6fe9c9" title="permalink">6 years ago (2015-07-31 10:13:56 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0ab6974d-0896-3a5c-a067-a2f780792863">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>I have a question: as you said, a GET is a write followed by a read. But for the read, shouldn't there be something that is there to always listen for the response? Like a socket or something. In this case, if it's not a thread that's doing the listening, then what is doing the listening?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="3045767d-a518-31c9-a77a-dd85ce6fe9c9"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3045767d-a518-31c9-a77a-dd85ce6fe9c9">In reply to Chin</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-8f1aa188-5516-3a62-9812-a9c5c0579dcd"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8f1aa188-5516-3a62-9812-a9c5c0579dcd" title="permalink">6 years ago (2015-07-31 04:20:11 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3045767d-a518-31c9-a77a-dd85ce6fe9c9">In reply to Chin</a></div></div><div class="comment-message" style="clear:both;"><p>No threads are "doing" the listening. Reads and writes work almost identically: a range of memory is set up as the read (or write) buffer, and an IRQ is used to signal the end of the read (or write).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="8f1aa188-5516-3a62-9812-a9c5c0579dcd"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8f1aa188-5516-3a62-9812-a9c5c0579dcd">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-2ec92642-9cda-3f30-a0f1-3b33272fecfc"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/bb69b61815507f213ad10e182710e91d"></div><div class="comment-author"><span class="comment-author-name">Flemming Bonde Kentved</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2ec92642-9cda-3f30-a0f1-3b33272fecfc" title="permalink">6 years ago (2014-11-27 08:21:29 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you. This had been bothering me for a while :)</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="2ec92642-9cda-3f30-a0f1-3b33272fecfc"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2ec92642-9cda-3f30-a0f1-3b33272fecfc">In reply to Flemming Bonde Kentved</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-16f3f266-623d-3eb0-8b9b-be0a9f347dc4"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/34a7ca7a417b590cb4d11bfbc9613c61"></div><div class="comment-author"><span class="comment-author-name">Andrey</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-16f3f266-623d-3eb0-8b9b-be0a9f347dc4" title="permalink">6 years ago (2014-12-02 10:55:40 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Hi. Thanks for the post. I have a question regarding I/O threads (IOCPs).</p>
<p>"Since the library/BCL is using the standard P/Invoke overlapped I/O system, it has already registered the handle with the I/O Completion Port (IOCP), which is part of the thread pool. So an I/O thread pool thread is borrowed briefly to execute the APC, which notifies the task that it’s complete."</p>
<p>Aren't those I/O threads blocked while waiting to be notified to process I/O callbacks?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="16f3f266-623d-3eb0-8b9b-be0a9f347dc4"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-16f3f266-623d-3eb0-8b9b-be0a9f347dc4">In reply to Andrey</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d2dc9613-abe7-3ec8-a17a-4fe185bc7ca1"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d2dc9613-abe7-3ec8-a17a-4fe185bc7ca1" title="permalink">6 years ago (2014-12-03 03:08:15 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-16f3f266-623d-3eb0-8b9b-be0a9f347dc4">In reply to Andrey</a></div></div><div class="comment-message" style="clear:both;"><p>I/O threads are blocked, yes - they block on the IOCP itself. However, one I/O thread can handle any number of IOCP notifications. The thread pool will inject I/O threads if they get bogged down, but a single I/O thread can handle a <em>huge</em> amount of I/O. The IOCP will always exist for an application - it's used quite a bit internally by the BCL.</p>
<p>So, you can think of it like this: the BCL already has an I/O thread(s), and by using IOCP you're reusing the same thread(s) instead of blocking another one.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d2dc9613-abe7-3ec8-a17a-4fe185bc7ca1"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d2dc9613-abe7-3ec8-a17a-4fe185bc7ca1">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-df81868a-30e0-3410-b1ed-7a739fcb2494"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/34a7ca7a417b590cb4d11bfbc9613c61"></div><div class="comment-author"><span class="comment-author-name">Andrey</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-df81868a-30e0-3410-b1ed-7a739fcb2494" title="permalink">6 years ago (2014-12-03 04:29:19 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d2dc9613-abe7-3ec8-a17a-4fe185bc7ca1">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>So, in a way, the phrase "if I am awaiting an operation, there must be a thread that is doing the wait!" is <em>partially</em> true, but that thread (an I/O thread) awaits for lots of (I/O) operations?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="df81868a-30e0-3410-b1ed-7a739fcb2494"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-df81868a-30e0-3410-b1ed-7a739fcb2494">In reply to Andrey</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-5e64b4f3-00f2-31ec-ac78-14adcc352b51"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5e64b4f3-00f2-31ec-ac78-14adcc352b51" title="permalink">6 years ago (2014-12-03 05:05:45 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-df81868a-30e0-3410-b1ed-7a739fcb2494">In reply to Andrey</a></div></div><div class="comment-message" style="clear:both;"><p>You could think of it that way. Another way to think of it is that an I/O thread is waiting for <em>any</em> I/O for that entire process (or AppDomain, technically), and it'll do that whether or not you start an asynchronous operation.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="5e64b4f3-00f2-31ec-ac78-14adcc352b51"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5e64b4f3-00f2-31ec-ac78-14adcc352b51">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-cc8a2706-ceaa-37cb-86fa-52a7f52fa29f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/34a7ca7a417b590cb4d11bfbc9613c61"></div><div class="comment-author"><span class="comment-author-name">Andrey</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-cc8a2706-ceaa-37cb-86fa-52a7f52fa29f" title="permalink">6 years ago (2014-12-04 04:09:33 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5e64b4f3-00f2-31ec-ac78-14adcc352b51">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>I see. Thanks a lot, Stephen!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="cc8a2706-ceaa-37cb-86fa-52a7f52fa29f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-cc8a2706-ceaa-37cb-86fa-52a7f52fa29f">In reply to Andrey</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-57f6a077-4ce0-3b46-ac53-4a9f96499297"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/c9fff93b0975f41010ae13dcb1a948f3"></div><div class="comment-author"><span class="comment-author-name">Pradeep</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-57f6a077-4ce0-3b46-ac53-4a9f96499297" title="permalink">3 years ago (2017-12-28 05:21:35 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5e64b4f3-00f2-31ec-ac78-14adcc352b51">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>That made sense. Imagining it that way, it seems not using IOCP or async operations is rather a brutal waste of the I/O thread(s) which are already allocated to an AppDomain.</p>
<p>One small doubt. I understand all this discussion applies to XyzAsync() calls. Is the same also true for the BeginXyz() calls? I mean, I'm still with VS2008 (.Net 3.5), so does using the BeginXyz() methods also provide the exact same benefits as using the later XyzAsync() counterparts? If there are any specific drawbacks to the old methods, I'd love to read about those if you can point me to a link. Many thanks.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="57f6a077-4ce0-3b46-ac53-4a9f96499297"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-57f6a077-4ce0-3b46-ac53-4a9f96499297">In reply to Pradeep</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-5645380b-1849-3ce7-8b78-22d3788932ba"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5645380b-1849-3ce7-8b78-22d3788932ba" title="permalink">3 years ago (2017-12-28 06:24:21 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-57f6a077-4ce0-3b46-ac53-4a9f96499297">In reply to Pradeep</a></div></div><div class="comment-message" style="clear:both;"><p>As far as thread usage goes, both Begin/End and Async are asynchronous. The major disadvantage of Begin/End is that it makes your code much less maintainable.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="5645380b-1849-3ce7-8b78-22d3788932ba"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5645380b-1849-3ce7-8b78-22d3788932ba">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-731c74e3-f2a4-3484-a394-56a4ca97834f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/72159be3de5ca75a9d077acf5b80508d"></div><div class="comment-author"><span class="comment-author-name">Borzoo</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-731c74e3-f2a4-3484-a394-56a4ca97834f" title="permalink">6 years ago (2015-03-18 12:59:07 am)</a></div></div><div class="comment-message" style="clear:both;"><p>This has been bothering me for quite a while. This is the clearest description of this complex subject that I've ever seen. Thank you. </p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="731c74e3-f2a4-3484-a394-56a4ca97834f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-731c74e3-f2a4-3484-a394-56a4ca97834f">In reply to Borzoo</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-e0f087eb-c5f2-3981-ae38-44042689b1cb"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/344364fed44a2fe2b4aca232d6d7885b"></div><div class="comment-author"><span class="comment-author-name">d87</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e0f087eb-c5f2-3981-ae38-44042689b1cb" title="permalink">6 years ago (2015-08-24 02:44:08 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>I've been confused about the implications of async/await on threads for some time, and this is the best explanation on the web I have found. Thank you! If only MSDN were half as clear. I believe the explanation could be improved even further by explicitly pointing out the distinction between I/O operations and CPU-bound operations.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="e0f087eb-c5f2-3981-ae38-44042689b1cb"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e0f087eb-c5f2-3981-ae38-44042689b1cb">In reply to d87</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-b0566718-e448-3753-8346-7b80be263f9e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/5ea1d4416410a7d4ed972e2ce9cb8111"></div><div class="comment-author"><span class="comment-author-name">Ghy1237</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b0566718-e448-3753-8346-7b80be263f9e" title="permalink">5 years ago (2015-09-15 04:12:36 am)</a></div></div><div class="comment-message" style="clear:both;"><p>If so, what are the differences in the implementation between "normal" IO methods and those marked with returning a Task? You said that the underlying work is already async (using IRP markes with "pending" etc).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="b0566718-e448-3753-8346-7b80be263f9e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b0566718-e448-3753-8346-7b80be263f9e">In reply to Ghy1237</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-9e6b735f-faea-3ec2-8b6e-346ca8c0b5ce"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9e6b735f-faea-3ec2-8b6e-346ca8c0b5ce" title="permalink">5 years ago (2015-09-15 05:22:39 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b0566718-e448-3753-8346-7b80be263f9e">In reply to Ghy1237</a></div></div><div class="comment-message" style="clear:both;"><p>I assume by "normal" you mean the Asynchronous Programming Model (APM), which follows the pattern of Begin/End method pairs. Their implementation is pretty much identical (they generally use overlapped I/O, IOCPs, etc); only the end notification is different. IAsyncResult is a pretty close match to OVERLAPPED, and uses a callback method to notify the application the operation is complete. Task is a more modern way to notify applications that operations are complete.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="9e6b735f-faea-3ec2-8b6e-346ca8c0b5ce"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9e6b735f-faea-3ec2-8b6e-346ca8c0b5ce">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-6ec9797d-39a2-3dcc-ad29-75f5d4a843ca"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/d770c004f15102ff6d4ba80bf2f1bd9c"></div><div class="comment-author"><span class="comment-author-name">Anton</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6ec9797d-39a2-3dcc-ad29-75f5d4a843ca" title="permalink">5 years ago (2015-10-14 01:28:27 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9e6b735f-faea-3ec2-8b6e-346ca8c0b5ce">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Hi, Stephen! Am I right that callback in case of APM will run in a normal theradpool thread? Not IO thread.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="6ec9797d-39a2-3dcc-ad29-75f5d4a843ca"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6ec9797d-39a2-3dcc-ad29-75f5d4a843ca">In reply to Anton</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ed3b4e74-6139-3533-ad5b-f57a1e5a61c5"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed3b4e74-6139-3533-ad5b-f57a1e5a61c5" title="permalink">5 years ago (2015-10-14 02:28:01 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6ec9797d-39a2-3dcc-ad29-75f5d4a843ca">In reply to Anton</a></div></div><div class="comment-message" style="clear:both;"><p>It can run in either kind of thread pool thread - normal or I/O. It depends on how the API is implemented.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ed3b4e74-6139-3533-ad5b-f57a1e5a61c5"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed3b4e74-6139-3533-ad5b-f57a1e5a61c5">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ca3ca8c8-6379-35d8-9d1f-79a85e1a9c88"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/d770c004f15102ff6d4ba80bf2f1bd9c"></div><div class="comment-author"><span class="comment-author-name">Anton</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ca3ca8c8-6379-35d8-9d1f-79a85e1a9c88" title="permalink">5 years ago (2015-10-14 01:13:44 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you very, very much! Now async programming and threads in .net looks more clear to me!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ca3ca8c8-6379-35d8-9d1f-79a85e1a9c88"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ca3ca8c8-6379-35d8-9d1f-79a85e1a9c88">In reply to Anton</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-c92fa5e8-d3be-3f04-93fc-1587b8dafb20"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/2acc0293cdadcda24791c0fbd8be6c50"></div><div class="comment-author"><span class="comment-author-name">Fiona</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c92fa5e8-d3be-3f04-93fc-1587b8dafb20" title="permalink">5 years ago (2015-11-27 10:35:36 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Stephen,</p>
<p>"The task has captured the UI context, so it does not resume the async method directly on the thread pool thread. Instead, it queues the continuation of that method onto the UI context, and the UI thread will resume executing that method when it gets around to it."</p>
<p>How about Console applications and Windows Service application? My assumption is that it will resume the async method directly on the thread pool thread, correct?</p>
<p>I couldn't find any article that take console application / Windows Service as a main example. Questions that bother me all the time are:   </p>
<ol>
<li><p>what type of synchronization context it will be for these two types of applications?</p></li>
<li><p>Could any deadlock in async code be there for these two types of applications?</p></li>
</ol></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="c92fa5e8-d3be-3f04-93fc-1587b8dafb20"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c92fa5e8-d3be-3f04-93fc-1587b8dafb20">In reply to Fiona</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-02dcf8c5-c964-358c-9213-0d54e927c1fa"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02dcf8c5-c964-358c-9213-0d54e927c1fa" title="permalink">3 years ago (2017-10-04 09:21:00 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c92fa5e8-d3be-3f04-93fc-1587b8dafb20">In reply to Fiona</a></div></div><div class="comment-message" style="clear:both;"><p>I describe await semantics here: <a href="https://blog.stephencleary.com/2012/02/async-and-await.html" rel="nofollow noopener">https://blog.stephencleary.com/2012/02/async-and-await.html</a></p>
<p>You are correct in that Console and Win32 service apps (by default) will resume on the thread pool. There is no SynchronizationContext in this case.</p>
<p>Regarding deadlocks, the common sync-over-async deadlock will not occur ( <a href="http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html" rel="nofollow noopener">http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html</a> ), but there are other deadlocks that can happen: <a href="https://blog.stephencleary.com/2012/12/dont-block-in-asynchronous-code.html" rel="nofollow noopener">https://blog.stephencleary.com/2012/12/dont-block-in-asynchronous-code.html</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="02dcf8c5-c964-358c-9213-0d54e927c1fa"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02dcf8c5-c964-358c-9213-0d54e927c1fa">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7ebec3d5-2ef4-330e-8311-1a575a27f397"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/ad1df76ef4fab96ec67b2afa080b3a0c.png"></div><div class="comment-author"><span class="comment-author-name">Jim Balter</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://www.facebook.com/app_scoped_user_id/YXNpZADpBWEYwdm1Od2h4SjlJeThCVWY3OHIyTzc5N2pwek0yM0t1RUhQb2x3VFJqN01iM1hjZAnpVRlpHSmRwMFRMSldKMGtYRHQ5SFA1OUFhNWFueDRSb1dYNDBqTlV2b2VpZA2ZAZAbERY/">https://www.facebook.com/app_scoped_user_id/YXNpZADpBWEYwdm1Od2h4SjlJeThCVWY3OHIyTzc5N2pwek0yM0t1RUhQb2x3VFJqN01iM1hjZAnpVRlpHSmRwMFRMSldKMGtYRHQ5SFA1OUFhNWFueDRSb1dYNDBqTlV2b2VpZA2ZAZAbERY/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7ebec3d5-2ef4-330e-8311-1a575a27f397" title="permalink">5 years ago (2015-12-31 02:38:43 am)</a></div></div><div class="comment-message" style="clear:both;"><p>What's it matter whether there was an actual thread? The suspension of and resumption of a method is logically equivalent to a waiting thread.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7ebec3d5-2ef4-330e-8311-1a575a27f397"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7ebec3d5-2ef4-330e-8311-1a575a27f397">In reply to Jim Balter</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-3fabd9e6-0108-3fe1-bed5-238eed5b953c"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3fabd9e6-0108-3fe1-bed5-238eed5b953c" title="permalink">5 years ago (2015-12-31 07:58:06 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7ebec3d5-2ef4-330e-8311-1a575a27f397">In reply to Jim Balter</a></div></div><div class="comment-message" style="clear:both;"><p>"Logically equivalent" - yes. But not literally equivalent. While you <em>could</em> block threads in ASP.NET, <em>not</em> blocking them allows an order of magnitude or two of web server scalability.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="3fabd9e6-0108-3fe1-bed5-238eed5b953c"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3fabd9e6-0108-3fe1-bed5-238eed5b953c">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-923aafa7-8632-33b7-8034-5667f92234b8"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/481d70341c9faa90e85885faa2295f47"></div><div class="comment-author"><span class="comment-author-name">John B</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-923aafa7-8632-33b7-8034-5667f92234b8" title="permalink">5 years ago (2016-02-02 02:59:56 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Really appreciate this article.</p>
<p>Does this mean that it's essentially impossible to write something that's truly async in C# alone? In essence, for a method not to block any thread, it must call another async method, which calls another etc that eventually gets down to an OS level call which is inherently asynchronous.</p>
<p>I know the "top" level of those calls are available in C#, but say I were writing against an existing library that blocked. I could kick it into a background thread (which would block), but I can't see that I could somehow magically make the codebase avoid blocking altogether. Am I missing something?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="923aafa7-8632-33b7-8034-5667f92234b8"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-923aafa7-8632-33b7-8034-5667f92234b8">In reply to John B</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-c3a25ea0-8bc0-3da9-b1e1-795f2e0e6134"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c3a25ea0-8bc0-3da9-b1e1-795f2e0e6134" title="permalink">5 years ago (2016-02-02 08:34:30 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-923aafa7-8632-33b7-8034-5667f92234b8">In reply to John B</a></div></div><div class="comment-message" style="clear:both;"><p>It is possible (though rare) to write an inherently asynchronous operation in C# alone (using TaskCompletionSource). I use this to write things like asynchronous locks in my Nito.AsyncEx library.</p>
<p>However, when you're consuming an API, the situation is a bit different. An API method is either asynchronous or synchronous, and there's nothing you can do as a consumer to change the nature of the API. So if you have a blocking API, you can't consume it asynchronously - that doesn't make sense. If you're writing a UI app, you have the option of pushing the blocking to a background thread, but since it's the actual API implementation that does the blocking, you can't entirely avoid the blocking.</p>
<p>If you would like an asynchronous API, the best thing to do is let the library author know.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="c3a25ea0-8bc0-3da9-b1e1-795f2e0e6134"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c3a25ea0-8bc0-3da9-b1e1-795f2e0e6134">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-628a3edd-4ba1-30f4-881c-1e0c4fd05c51"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/95345f59cd3f6a28ae72bc99843184b8"></div><div class="comment-author"><span class="comment-author-name">Omega Point Singularity</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-628a3edd-4ba1-30f4-881c-1e0c4fd05c51" title="permalink">5 years ago (2016-02-07 08:47:11 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>How did you get so much knowledge? I aspire to be great. Have any book recommendations?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="628a3edd-4ba1-30f4-881c-1e0c4fd05c51"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-628a3edd-4ba1-30f4-881c-1e0c4fd05c51">In reply to Omega Point Singularity</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-f6e83335-08bf-35e4-a5b3-154063cfc2c2"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f6e83335-08bf-35e4-a5b3-154063cfc2c2" title="permalink">5 years ago (2016-02-08 07:38:30 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-628a3edd-4ba1-30f4-881c-1e0c4fd05c51">In reply to Omega Point Singularity</a></div></div><div class="comment-message" style="clear:both;"><p>A lot of experience. :)</p>
<p>One of the best books I've read is Code Complete. If you want to know more about windows, then Windows Internals is one of the best sources.</p>
<p>And just keep learning. :)</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="f6e83335-08bf-35e4-a5b3-154063cfc2c2"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f6e83335-08bf-35e4-a5b3-154063cfc2c2">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ccb4471a-1436-3c15-829f-730bbb168c07"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/daacb17064e6d03ddd19ae1930bec563.jpeg"></div><div class="comment-author"><span class="comment-author-name">Ehsan Sajjad</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ccb4471a-1436-3c15-829f-730bbb168c07" title="permalink">5 years ago (2016-02-10 06:42:45 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks for clarifying this mystery of async await</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ccb4471a-1436-3c15-829f-730bbb168c07"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ccb4471a-1436-3c15-829f-730bbb168c07">In reply to Ehsan Sajjad</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-02b35c6c-7c4a-3226-86c3-8139c1f74e5d"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/fe585c62d5b87f7172d4e2d0b5968e3b"></div><div class="comment-author"><span class="comment-author-name">Empereur Aiman</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02b35c6c-7c4a-3226-86c3-8139c1f74e5d" title="permalink">5 years ago (2016-02-15 09:59:45 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks a lot. I have been wondering about this for so long. This cleared up everything.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="02b35c6c-7c4a-3226-86c3-8139c1f74e5d"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02b35c6c-7c4a-3226-86c3-8139c1f74e5d">In reply to Empereur Aiman</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-8b152c93-4374-352e-98d4-49fe8390f2ab"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/b37ebd4f61e3359655e42bcc1ad3fd92"></div><div class="comment-author"><span class="comment-author-name">Ilya Nemtsev</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8b152c93-4374-352e-98d4-49fe8390f2ab" title="permalink">5 years ago (2016-04-08 07:38:32 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Best explanation I've read so far! Love the prophetic writing style.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="8b152c93-4374-352e-98d4-49fe8390f2ab"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8b152c93-4374-352e-98d4-49fe8390f2ab">In reply to Ilya Nemtsev</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-f5f7916e-aaf8-3ea3-8f4e-f04d7352e160"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/dca6908ca4a08b9c090990a094346305"></div><div class="comment-author"><span class="comment-author-name">George</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f5f7916e-aaf8-3ea3-8f4e-f04d7352e160" title="permalink">5 years ago (2016-05-08 07:30:44 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>I'm not convinced. What happens if my async operation was one that does NOT involve an I/O operation? Let's say a complex compute operation. And also; what about other implementations of the .NET async/await, such as Mono for Linux or OSX or, Xamarin.Android, Xamarin.iOS?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="f5f7916e-aaf8-3ea3-8f4e-f04d7352e160"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f5f7916e-aaf8-3ea3-8f4e-f04d7352e160">In reply to George</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-6625935a-675b-3d3e-aa17-db5949bf81d3"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6625935a-675b-3d3e-aa17-db5949bf81d3" title="permalink">5 years ago (2016-05-09 01:18:37 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f5f7916e-aaf8-3ea3-8f4e-f04d7352e160">In reply to George</a></div></div><div class="comment-message" style="clear:both;"><p>CPU-based operations are not asynchronous, by definition. It's true that both kinds of tasks (what I call Delegate Tasks and Promise Tasks) are both represented by the Task type in .NET, but they act completely differently. Delegate Tasks have code and have to run on a thread.</p>
<p>Now, it's possible to, e.g., have the UI thread <em>treat</em> something else as asynchronous, like "await Task.Run(() =&gt; …);" But that's not fully asynchronous code, so this article wouldn't apply.</p>
<p>Regarding Mono, I haven't taken the time to research their implementation. They have recently absorbed large parts of the .NET framework regarding thread pooling and tasks, and are currently in the process of moving to .NET Core. The real question as regards this article is whether or not they use asynchronous I/O <em>and</em> whether or not the device driver(s) in question support asynchronous I/O. (On Linux, the device driver is aware of whether I/O is asynchronous or not; on Windows, all I/O is asynchronous).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="6625935a-675b-3d3e-aa17-db5949bf81d3"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6625935a-675b-3d3e-aa17-db5949bf81d3">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-858e29c9-3fe9-315f-ac46-acc918336aa6"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/dca6908ca4a08b9c090990a094346305"></div><div class="comment-author"><span class="comment-author-name">George</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-858e29c9-3fe9-315f-ac46-acc918336aa6" title="permalink">5 years ago (2016-05-09 07:42:07 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6625935a-675b-3d3e-aa17-db5949bf81d3">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Stephen,<br>
Thanks for your answer. But now I have a question on "CPU-based operations are not asynchronous, by definition". I suppose by this you mean that the CPU can execute one "task" at a time. If this is what you mean, then aren't you forgetting the multi-core CPUs? Each core can execute one task…OK I'm not sure now when you wrote that article if we actually had multi-core CPUs…</p>
<p>Thanks again for the article and the answer…</p>
<p>R,<br>
G.P.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="858e29c9-3fe9-315f-ac46-acc918336aa6"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-858e29c9-3fe9-315f-ac46-acc918336aa6">In reply to George</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-643a9b01-0dea-32b9-9ba3-a65fce4aed84"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-643a9b01-0dea-32b9-9ba3-a65fce4aed84" title="permalink">5 years ago (2016-05-10 02:11:15 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-858e29c9-3fe9-315f-ac46-acc918336aa6">In reply to George</a></div></div><div class="comment-message" style="clear:both;"><p>Not really. I meant that asynchrony is a form of concurrency that does not use a thread. If you have CPU code to run - regardless of whether it's in a task - that is not asynchronous since it requires a thread to run on.</p>
<p>Parallelism is a form of concurrency that uses multiple threads, which is completely different than asynchronous concurrency.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="643a9b01-0dea-32b9-9ba3-a65fce4aed84"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-643a9b01-0dea-32b9-9ba3-a65fce4aed84">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ce21b9f8-233a-32de-9a6f-41248900c901"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/dca6908ca4a08b9c090990a094346305"></div><div class="comment-author"><span class="comment-author-name">George</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ce21b9f8-233a-32de-9a6f-41248900c901" title="permalink">5 years ago (2016-05-10 02:56:30 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-643a9b01-0dea-32b9-9ba3-a65fce4aed84">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Then how does the UI task continue execution while an asynchronous task "continues to run in the background" ? You mean that the asynchronous task will not actually continue to run in the background, but because it's in the same thread as the UI, it will be suspended instead? Therefore, what we'll have in this case is some form of task switching? Not sure I understand…</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ce21b9f8-233a-32de-9a6f-41248900c901"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ce21b9f8-233a-32de-9a6f-41248900c901">In reply to George</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-5017bf85-ae7f-3797-be25-cc3d31d0414f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5017bf85-ae7f-3797-be25-cc3d31d0414f" title="permalink">5 years ago (2016-05-10 07:08:30 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ce21b9f8-233a-32de-9a6f-41248900c901">In reply to George</a></div></div><div class="comment-message" style="clear:both;"><p>I try to be very careful with my terminology. In particular: asynchronous operations do not "run" or "execute". They have no CPU code, so it doesn't make sense to talk about them "running" anywhere. However, they do have a time frame over which they are active, followed by a completion; so I do use the terms "in progress" or "in flight" or "not completed".</p>
<p>It is confusing, because the same Task type represents two completely different concepts.</p>
<p>I think these blog posts of mine may help clarify what I mean; I'm talking about the difference between Delegate Tasks (with CPU code) and Promise Tasks (representing some future event):</p>
<p><a href="http://blog.stephencleary.com/2014/04/a-tour-of-task-part-0-overview.html" rel="nofollow noopener">http://blog.stephencleary.com/2014/04/a-tour-of-task-part-0-overview.html</a> (especially the section "Two Types of Task")</p>
<p><a href="http://blog.stephencleary.com/2014/06/a-tour-of-task-part-3-status.html" rel="nofollow noopener">http://blog.stephencleary.com/2014/06/a-tour-of-task-part-3-status.html</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="5017bf85-ae7f-3797-be25-cc3d31d0414f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5017bf85-ae7f-3797-be25-cc3d31d0414f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-fcc0f242-2b22-3065-9fa4-eca43a8e4ff9"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/dca6908ca4a08b9c090990a094346305"></div><div class="comment-author"><span class="comment-author-name">George</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-fcc0f242-2b22-3065-9fa4-eca43a8e4ff9" title="permalink">5 years ago (2016-05-10 07:22:23 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5017bf85-ae7f-3797-be25-cc3d31d0414f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks Stephen. I'll check those articles out. I'm curious about the part "asynchronous operations do not "run" or "execute"".</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="fcc0f242-2b22-3065-9fa4-eca43a8e4ff9"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-fcc0f242-2b22-3065-9fa4-eca43a8e4ff9">In reply to George</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-4117516c-5210-337d-83df-b6943da3af75"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/a60e16ef8a1f18164882bfbc7d1a1ea1.jpeg"></div><div class="comment-author"><span class="comment-author-name">kandamrgam</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4117516c-5210-337d-83df-b6943da3af75" title="permalink">4 years ago (2016-11-21 01:43:30 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-5017bf85-ae7f-3797-be25-cc3d31d0414f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>"In particular: asynchronous operations do not "run" or "execute". They have no CPU code, so it doesn't make sense to talk about them "running" anywhere"</p>
<p>Hi Stephen, some of your comments (especially this one) actually cleared the concept for me more than your post itself (which is also great). Thank you.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="4117516c-5210-337d-83df-b6943da3af75"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4117516c-5210-337d-83df-b6943da3af75">In reply to kandamrgam</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-61f71b33-e69d-3944-8750-11c57ceb9b69"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/98f19d70948a72ca4a5a99b7afb49494"></div><div class="comment-author"><span class="comment-author-name">Avi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-61f71b33-e69d-3944-8750-11c57ceb9b69" title="permalink">5 years ago (2016-05-24 05:15:26 am)</a></div></div><div class="comment-message" style="clear:both;"><p>"We have followed the request down into the abyss of the system, right out to the physical device.</p>
<p>The write operation is now “in flight”. How many threads are processing it?"</p>
<p>I have a question here. Who processes the operation which is in flight? How come there is not a need for a thread to take of the operation when in flight, the physical writing of bytes onto disk, does that not need CPU time/thread? The actual writing of the file must be executing code surely?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="61f71b33-e69d-3944-8750-11c57ceb9b69"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-61f71b33-e69d-3944-8750-11c57ceb9b69">In reply to Avi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-e9bd4d27-c6ca-3b1d-bd5c-03f537cda357"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e9bd4d27-c6ca-3b1d-bd5c-03f537cda357" title="permalink">5 years ago (2016-05-24 07:07:57 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-61f71b33-e69d-3944-8750-11c57ceb9b69">In reply to Avi</a></div></div><div class="comment-message" style="clear:both;"><p>No, it does not need CPU time or a thread.</p>
<p>Hard drives (and other I/O devices such as network cards, video cards, and even serial/parallel ports) have tiny dedicated processors that do the actual copying. The CPU only places the data in a DMA region and triggers a signal to the device. The device then copies it out of memory.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="e9bd4d27-c6ca-3b1d-bd5c-03f537cda357"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e9bd4d27-c6ca-3b1d-bd5c-03f537cda357">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-a10cfd51-6d80-3142-bc0b-32a272ec3d17"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/98f19d70948a72ca4a5a99b7afb49494"></div><div class="comment-author"><span class="comment-author-name">Avi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a10cfd51-6d80-3142-bc0b-32a272ec3d17" title="permalink">5 years ago (2016-05-25 12:30:43 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e9bd4d27-c6ca-3b1d-bd5c-03f537cda357">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you very much Stephen. That makes it very clear.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="a10cfd51-6d80-3142-bc0b-32a272ec3d17"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a10cfd51-6d80-3142-bc0b-32a272ec3d17">In reply to Avi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0082d642-dab6-3005-b23f-a2704b585f5f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/5164af4f96639d26aa14d0570108de15"></div><div class="comment-author"><span class="comment-author-name">SharpTag</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0082d642-dab6-3005-b23f-a2704b585f5f" title="permalink">4 years ago (2016-09-06 08:35:19 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e9bd4d27-c6ca-3b1d-bd5c-03f537cda357">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>There are lots of devices that don't do DMA so just to be complete, people can still visualize it that way since if there is actually a byte by byte transfer and it's more common than you think, it will be interrupt driven and then handled by the DPC so again no (extra) O/S thread allocated for that. The device driver just has 4 (<em>) pieces of code: Load/Unload, I/O API, DPC and ISR - In the I/O request, the data is stored in RAM and then even without DMA, the DPC sends it out or receives it when queued by the ISR. (</em>) giant bunch of other stuff involving Power States does not apply to discussion.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0082d642-dab6-3005-b23f-a2704b585f5f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0082d642-dab6-3005-b23f-a2704b585f5f">In reply to SharpTag</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-4513612c-028a-31c7-a1ab-feaf5b1fd590"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/b4be580397a862506e2e256ca80a368f.jpeg"></div><div class="comment-author"><span class="comment-author-name">Gyozo Kudor</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4513612c-028a-31c7-a1ab-feaf5b1fd590" title="permalink">5 years ago (2016-06-03 10:37:03 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>How could I be blind to the truth for so long. Now I see it. There is no thread.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="4513612c-028a-31c7-a1ab-feaf5b1fd590"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4513612c-028a-31c7-a1ab-feaf5b1fd590">In reply to Gyozo Kudor</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-97014edc-d197-3dd3-b7d4-5d09522f3a3c"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/b4be580397a862506e2e256ca80a368f.jpeg"></div><div class="comment-author"><span class="comment-author-name">Gyozo Kudor</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-97014edc-d197-3dd3-b7d4-5d09522f3a3c" title="permalink">5 years ago (2016-06-06 12:01:00 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Although there is this thing here, attached as an image that shows that one thread got created.</p>
<p><a href="http://imgur.com/tb7rsb2" rel="nofollow noopener">http://imgur.com/tb7rsb2</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="97014edc-d197-3dd3-b7d4-5d09522f3a3c"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-97014edc-d197-3dd3-b7d4-5d09522f3a3c">In reply to Gyozo Kudor</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-15d85c39-b4e5-3df2-8714-3a718fdbdee2"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-15d85c39-b4e5-3df2-8714-3a718fdbdee2" title="permalink">5 years ago (2016-06-06 06:00:26 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-97014edc-d197-3dd3-b7d4-5d09522f3a3c">In reply to Gyozo Kudor</a></div></div><div class="comment-message" style="clear:both;"><p>If you're doing a truly asynchronous operation, then that async work does not use up a thread while the operation is in progress. As I described in the article, it may briefly use a thread pool thread when the operation completes.</p>
<p>The thread pool creates threads as needed. This is normal.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="15d85c39-b4e5-3df2-8714-3a718fdbdee2"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-15d85c39-b4e5-3df2-8714-3a718fdbdee2">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-9572473e-4ff7-3551-92be-614b308d6ca3"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/2b225b0dd03bd728a5d1e51c031a34a6"></div><div class="comment-author"><span class="comment-author-name">Foo</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9572473e-4ff7-3551-92be-614b308d6ca3" title="permalink">5 years ago (2016-06-10 04:57:11 am)</a></div></div><div class="comment-message" style="clear:both;"><p>There is a thread. There has to be a thread.</p>
<p>This was an interesting read, but I think there a few inaccuracies in it.</p>
<p>First, the quote from Windows Internals. It's wrong. The driver chooses how it handles requests. It can ask IoIsOperationSynchronous(Irp) and if it is a synchronous request handle it synchronously. What is true is that when Windows passes the request the the driver it has to be prepared to receive STATUS_PENDING (even for synchronous requests).</p>
<p>Second, a thread is needed to perform the special kernel APC which copies data back to the user memory (assuming METHOD_BUFFERED). This is either the thread that performed the request (if you don't use IOCP), or any of the threads associated with the IOCP if the request is associated with an IOCP. Note that if the request isn't associated with an IOCP, the completion must happen in the originating thread, and if that thread is terminated before completion the I/O is canceled.</p>
<p>I'm willing to stipulate that in .NET IOCPs are used, but that's just lucky. If it weren't for that, you wouldn't be able to terminate a thread that made an asynchronous I/O request before it completes and still have it completed successfully. So threads matter.</p>
<p>I get that your point is that there needn't be an EXTRA thread for every asynchronous I/O operation, but some thread is needed - those thread that you say were borrowed had to exist so they could be borrowed…</p>
<p>Additionally, there certainly was a "thread that was blocked, just waiting for that request to complete." If there' was nothing to do the IOCP threads were blocked. They weren't waiting ONLY for this specific I/O, but they were waiting ALSO for the completion of this I/O operation.</p>
<p>IoIsOperationSynchronous: <a href="https://msdn.microsoft.com/en-us/library/windows/hardware/ff548443(v=vs.85).aspx" rel="nofollow noopener">https://msdn.microsoft.com/en-us/library/windows/hardware/ff548443(v=vs.85).aspx</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="9572473e-4ff7-3551-92be-614b308d6ca3"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9572473e-4ff7-3551-92be-614b308d6ca3">In reply to Foo</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7003d7ac-f514-3215-b38e-245d3191a169"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7003d7ac-f514-3215-b38e-245d3191a169" title="permalink">5 years ago (2016-06-14 12:12:13 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9572473e-4ff7-3551-92be-614b308d6ca3">In reply to Foo</a></div></div><div class="comment-message" style="clear:both;"><p>Oh, yes, this article is quite incomplete. Among other things, I completely skipped over how caches influence this flow.</p>
<p>But I think we can agree that the idea [that there is a thread blocked "doing" the I/O] is incorrect. In my experience, this is an <em>incredibly</em> common assumption. When I talk about async to .NET developers at conferences (so these are not even the dark matter developers), it's always &gt;50%; I'd estimate around 80% (or more) just believe that programmed I/O is still how it's done. :)</p>
<p>I was not even aware of IoIsOperationSynchronous! I knew that Linux drivers know the asynchrony of their ops, but I wasn't aware that was true on Windows, too. I'm having a hard time thinking of a real-world use case, though; any driver would <em>have</em> to support async (the hard part), and it <em>can</em> support async-only (and most do AFAIK), so why have a second path? Seems like it would severely complicate the code for no real benefit.</p>
<p>I also didn't remember the details around APCs and threads. Since .NET-based I/O generally uses a single process-wide IOCP, that's the only case I covered in this article. In particular, I did not remember that it had to return to the <em>same</em> thread outside of an IOCP; I had actually assumed that <em>any</em> thread in the process (sharing the same address space) would work.</p>
<p>And finally, yes, as you (and others below) have pointed out, the IOCP itself does have (a) dedicated thread(s). But this would be true even if the end-user code never called any I/O methods. In other words, asynchronous I/O doesn't take up <em>additional</em> threads that are dedicated to a specific operation.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7003d7ac-f514-3215-b38e-245d3191a169"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7003d7ac-f514-3215-b38e-245d3191a169">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-3f5eac21-523f-3618-ba24-1079bb8de4e8"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/9f9e018ec475cccb9da53d14305ac50e"></div><div class="comment-author"><span class="comment-author-name">Robert</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3f5eac21-523f-3618-ba24-1079bb8de4e8" title="permalink">5 years ago (2016-06-30 10:50:38 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Great writeup! Russinovich has an excellent article that takes it a level deeper (helped clear up for me the details on how the calling context, in both thread-specific and thread-agnostic cases, is available when the I/O completes): <a href="https://www.microsoftpressstore.com/articles/article.aspx?p=2201309&amp;seqNum=3" rel="nofollow noopener">https://www.microsoftpressstore.com/articles/article.aspx?p=2201309&amp;seqNum=3</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="3f5eac21-523f-3618-ba24-1079bb8de4e8"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3f5eac21-523f-3618-ba24-1079bb8de4e8">In reply to Robert</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-b89eb870-38c3-39d1-9110-33dd38da8efc"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/7a2c32431708704ac32f2e2637ef6b48"></div><div class="comment-author"><span class="comment-author-name">Andy JW</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b89eb870-38c3-39d1-9110-33dd38da8efc" title="permalink">5 years ago (2016-07-07 03:44:30 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Great article. IOCP's are a kernel-supported concept in win32. I am (or was) among this 80% naive you speak of because my conceptual education in EE/CS was the traditional model wherein the thread (or at least a fork/clone somewhere down the line) is blocked and put into the non-runnable state by the scheduler until the ISR is ready to toggle this. And we're taught that it's perfectly acceptable to use a small stack size for these blocking threads, with the only price at the end of the day being the context switches. I would make an argument there is nothing really wrong with this, since even with APCs you need to have one of those I/O pool threads get around to you anyway. Now, supposedly, the only equivalent to IOCP in linux is the epoll. The critical difference is that you implement this yourself at the application level. So it sounds like the exact model taken in win32 is the same pattern as what I would do if writing my own app-layer in posix. I might spin up my own pool and loop over epoll, and I might use the results to feed into a compute work queue, essentially achieving something very similar to .net async TAP.</p>
<p>Now given that posix epoll is a user-level concept and IOPCs are a kernel-level concept, I do wonder what the port of .NET to linux is going to do. Will they basically implement the I/O completion pool as their own layer on which they will build their .Net I/O primitives? hmmm</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="b89eb870-38c3-39d1-9110-33dd38da8efc"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b89eb870-38c3-39d1-9110-33dd38da8efc">In reply to Andy JW</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-84f59f19-b19e-3c5d-856e-292a331fc58c"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-84f59f19-b19e-3c5d-856e-292a331fc58c" title="permalink">5 years ago (2016-07-07 04:06:14 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b89eb870-38c3-39d1-9110-33dd38da8efc">In reply to Andy JW</a></div></div><div class="comment-message" style="clear:both;"><p>Good question. I'm not sure how they implement this on *nix.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="84f59f19-b19e-3c5d-856e-292a331fc58c"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-84f59f19-b19e-3c5d-856e-292a331fc58c">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-579cb753-63b9-3665-8f9b-5ccbdcc96f58"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/ec08164333e909baef436d182e7d8c0d"></div><div class="comment-author"><span class="comment-author-name">Benjamin Holland</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-579cb753-63b9-3665-8f9b-5ccbdcc96f58" title="permalink">5 years ago (2016-08-10 02:15:47 am)</a></div></div><div class="comment-message" style="clear:both;"><p>I know it's been a while, but this is still a great series. It definitely helped me understand tasks better.</p>
<p>I recently have done some work that led me to a question about the chart you've got. Why aren't there better mechanisms for turning Overlapped IO calls into tasks? I managed to do it by closing over a TaskCompletionSource, but it seems strange that I have to do that when the basic concept of the async-await style task and overlapped IO seem so similar.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="579cb753-63b9-3665-8f9b-5ccbdcc96f58"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-579cb753-63b9-3665-8f9b-5ccbdcc96f58">In reply to Benjamin Holland</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-eda8e557-9f29-3fcc-b80d-5c65d3b21224"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eda8e557-9f29-3fcc-b80d-5c65d3b21224" title="permalink">5 years ago (2016-08-10 07:28:01 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-579cb753-63b9-3665-8f9b-5ccbdcc96f58">In reply to Benjamin Holland</a></div></div><div class="comment-message" style="clear:both;"><p>It's going to be awkward due to the unmanaged/managed transition. OVERLAPPED is an unmanaged structure that must be pinned in memory for the duration of the operation. It also only has one callback pointer with a single data pointer (though you can extend the structure to include additional data, such as more callbacks).</p>
<p>From a high level, they are similar. You can see a lot of OVERLAPPED influence in the IAsyncResult interface, which is implemented by Task. However, OVERLAPPED is pinned unmanaged memory, whereas Task is a regular managed type.</p>
<p>It may be possible to create an awaitable extended OVERLAPPED structure, but I'm not sure if you'd get any real benefits. You'd still need a managed type that you can return from your asynchronous APIs.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="eda8e557-9f29-3fcc-b80d-5c65d3b21224"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eda8e557-9f29-3fcc-b80d-5c65d3b21224">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-37f8ee4b-6fad-3ea3-9710-05e1c9587a96"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/ec08164333e909baef436d182e7d8c0d"></div><div class="comment-author"><span class="comment-author-name">Benjamin Holland</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-37f8ee4b-6fad-3ea3-9710-05e1c9587a96" title="permalink">5 years ago (2016-08-12 04:46:52 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eda8e557-9f29-3fcc-b80d-5c65d3b21224">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>I can report that it is extremely awkward. Aside from Overlapped and IOCompletionCallback using raw NativeOverlapped pointers,each call requires it's own TaskCompletionSource and a unique managed delegate, which seems like it's a bit heavy for handling IO completion.</p>
<p>I just thought it was strange that MS decided not to create a better managed interface, given how ubiquitous overlapped IO ends up being under the hood. It's not "hard" to do, but the intricacies of overlapped IO seem sufficient to warrant a bit more assistance on the developer side.</p>
<p>I hadn't thought to extend Overlapped itself. I can see it helping if I don't have to create a new delegate for each call. Certainly something to think about. Thank you.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="37f8ee4b-6fad-3ea3-9710-05e1c9587a96"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-37f8ee4b-6fad-3ea3-9710-05e1c9587a96">In reply to Benjamin Holland</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-df732c96-74c6-3893-9701-0391b60436b6"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/dc149b2884327314254ee8a0b447e1ec"></div><div class="comment-author"><span class="comment-author-name">Ivo</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-df732c96-74c6-3893-9701-0391b60436b6" title="permalink">4 years ago (2016-09-08 01:51:43 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Stephen, excellent article. Very clarifying view over an obscure topic.<br>
I know it's been a while but what exactly do you meant by:<br>
"The task has captured the UI context, so it does not resume the async method directly on the thread pool thread. Instead, it queues the continuation of that method onto the UI context, and the UI thread will resume executing that method when it gets around to it."<br>
Is it that the very same thread that started the Task will be resumed to continue the work or is it a new (different) thread that will be randomly picked to continue? Or I am not quite getting it how this context is manged.<br>
Many thanks!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="df732c96-74c6-3893-9701-0391b60436b6"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-df732c96-74c6-3893-9701-0391b60436b6">In reply to Ivo</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-568d489f-1075-3c3a-8fca-3a20c845bc49"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-568d489f-1075-3c3a-8fca-3a20c845bc49" title="permalink">4 years ago (2016-09-08 07:01:11 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-df732c96-74c6-3893-9701-0391b60436b6">In reply to Ivo</a></div></div><div class="comment-message" style="clear:both;"><p>The context determines which thread is used.</p>
<p>So, in the case of that example, the UI context is captured, and the UI context always uses the UI thread, so in that case, the task will resume on the same thread. Not because tasks <em>always</em> do this, but because the UI context is tied to a specific thread.</p>
<p>If you run an async method on the thread pool, then the thread pool context is used (technically, there is no context captured, and the thread pool context is used if there is none). In that case, when the async method resumed, it would run on a thread pool thread, which may or may not be the same thread it started on.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="568d489f-1075-3c3a-8fca-3a20c845bc49"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-568d489f-1075-3c3a-8fca-3a20c845bc49">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-6c3a31ea-e886-3621-ad39-d126aee909ca"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/d7d0a9abf32a790bbef91e3f03a4154b"></div><div class="comment-author"><span class="comment-author-name">teoman shipahi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6c3a31ea-e886-3621-ad39-d126aee909ca" title="permalink">4 years ago (2016-10-25 01:25:59 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Wow, I am enlighten with this blog post. I am feeling myself that I was in long deep sleep in matrix, all surrounded with async tasks, and for each, a brand new thread is assigned. Then I am sweating and worried about there is no more thread to assign for upcoming I/O tasks, I am looking into thread pool, but there is none, so I need find more threads to run those extra I/O tasks! What a nightmare. Then @stephen_cleary:disqus comes along and wakes me up: "Shh, no worries; THERE IS NO THREAD".</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="6c3a31ea-e886-3621-ad39-d126aee909ca"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6c3a31ea-e886-3621-ad39-d126aee909ca">In reply to teoman shipahi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0e90fa6f-2303-3498-9218-93866ba61777"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/d2c9fd9e44004124f3eea85564113812.jpeg"></div><div class="comment-author"><span class="comment-author-name">Jeremy McLain</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0e90fa6f-2303-3498-9218-93866ba61777" title="permalink">4 years ago (2016-12-10 11:16:49 am)</a></div></div><div class="comment-message" style="clear:both;"><p>It's not multi-threading, but it is concurrency. I think the confusion about threads is some people think that concurrency is always done with threads. With respect to I/O, the reading or writing of bytes is done in the hardware, concurrently with the execution of your code. So yes two things are happening at once but the other thing isn't happening on a second thread.</p>
<p>Others might consider anything that causes the context to be swapped out to be a separate thread of execution. While these may not be threads in the strictest sense, they are context switches.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0e90fa6f-2303-3498-9218-93866ba61777"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0e90fa6f-2303-3498-9218-93866ba61777">In reply to Jeremy McLain</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-1a2a9bf7-2708-3682-b3e8-70f0fceb8f15"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/fbff5199443cb5ba1600a2068af03964.jpeg"></div><div class="comment-author"><span class="comment-author-name">Rafael Nicoletti</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a2a9bf7-2708-3682-b3e8-70f0fceb8f15" title="permalink">4 years ago (2017-01-25 05:13:20 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Using IOCP and ACP, you have no threading mechanisms working on.<br>
However, that's not related to Task Library directly. You could create a Thread inside a Task action and make that Task "wait" for the thread to end. In this case, there is a user thread that might be awaited.</p>
<p>Unnecessary to say that this is the worst possible approach to deal with "asynchrony"</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="1a2a9bf7-2708-3682-b3e8-70f0fceb8f15"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a2a9bf7-2708-3682-b3e8-70f0fceb8f15">In reply to Rafael Nicoletti</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-4541174d-bd4d-35eb-a22b-9174c01e2dc0"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4541174d-bd4d-35eb-a22b-9174c01e2dc0" title="permalink">4 years ago (2017-01-25 06:46:36 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a2a9bf7-2708-3682-b3e8-70f0fceb8f15">In reply to Rafael Nicoletti</a></div></div><div class="comment-message" style="clear:both;"><p>Yes. Since Task in .NET 4.0 was originally developed for parallel processing (with asynchronous as an afterthought), there are built-in mechanisms for this. E.g., Task.Factory.StartNew will queue a synchronous delegate to the thread pool and return a Task that completes when that delegate completes. It wasn't until .NET 4.5 that Task was extended with full asynchronous support that was much easier to use.</p>
<p>If a method uses Task.Run for its implementation and returns a task (i.e., with an asynchronous signature), that's what I call "fake asynchrony".</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="4541174d-bd4d-35eb-a22b-9174c01e2dc0"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4541174d-bd4d-35eb-a22b-9174c01e2dc0">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-e9009e56-72fa-3e65-b6ee-0c5c569c503f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/5f54b776d334bc43e497f50e28e5cd89.png"></div><div class="comment-author"><span class="comment-author-name">snielsson</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e9009e56-72fa-3e65-b6ee-0c5c569c503f" title="permalink">4 years ago (2017-01-31 01:31:34 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>What will happen if I on a single thread do a</p>
<p>await Task.WhenAll(<a href="http://items.select/" rel="nofollow noopener">items.select</a>(x =&gt; SomeAsyncMethod(x)))</p>
<p>async Task SomeAsyncMethod(Item item){<br>
 await myDevice.writeAsync(…);<br>
 do some cpu intensive stuff…<br>
}</p>
<p>and say there are 10000 items in the items. When each of the SomeAsyncMethod continue after the await, then it does so from a thread on the thread pool. So when many of the SomeAsyncsMethods return will several threads from the thread pool then be taken simultaneously, or will only a single thread execute " do some cpu intensive stuff" in SomeAsyncMethod at any given monment in this case?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="e9009e56-72fa-3e65-b6ee-0c5c569c503f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e9009e56-72fa-3e65-b6ee-0c5c569c503f">In reply to snielsson</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-918fae56-7374-3f26-8e03-47fd4ea9005c"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-918fae56-7374-3f26-8e03-47fd4ea9005c" title="permalink">4 years ago (2017-01-31 07:26:49 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e9009e56-72fa-3e65-b6ee-0c5c569c503f">In reply to snielsson</a></div></div><div class="comment-message" style="clear:both;"><p>If there is no current context, then the continuations are run on a thread pool thread. There is no synchronization of these; they can all run simultaneously.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="918fae56-7374-3f26-8e03-47fd4ea9005c"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-918fae56-7374-3f26-8e03-47fd4ea9005c">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-1b5adb1e-72ab-3a96-80aa-35d657a281a7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/5f54b776d334bc43e497f50e28e5cd89.png"></div><div class="comment-author"><span class="comment-author-name">snielsson</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1b5adb1e-72ab-3a96-80aa-35d657a281a7" title="permalink">4 years ago (2017-01-31 07:43:23 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-918fae56-7374-3f26-8e03-47fd4ea9005c">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Yes thank you. I also asked this on stack overflow and added some sample programs (<a href="http://stackoverflow.com/q/41952687/193414" rel="nofollow noopener">http://stackoverflow.com/q/41952687/193414</a>). It looks as if there is a limit as to how many threads will be taken from the thread pool to execute the async task continuations. The answer I accepted indicated 1-2 threads per logical core and my tests showed it was more like 3. It also did not matter whether a single or multiple threads were used to start big batches of async IO operations - the threads still maxed out around the same numbers - off course this can also be due all the tasks have been synchronized when waiting for access to the file system, which was used to implement the async IO.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="1b5adb1e-72ab-3a96-80aa-35d657a281a7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1b5adb1e-72ab-3a96-80aa-35d657a281a7">In reply to snielsson</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-64a5513c-1616-33aa-a9c5-010f2f52da28"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/f1490ab8bcb9f131f4defed453afe577"></div><div class="comment-author"><span class="comment-author-name">Harold Chattaway</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-64a5513c-1616-33aa-a9c5-010f2f52da28" title="permalink">4 years ago (2017-02-14 02:09:07 am)</a></div></div><div class="comment-message" style="clear:both;"><p>So it's still important to use an actual thread when what you're doing can't be handled by one of these other I/O type processors?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="64a5513c-1616-33aa-a9c5-010f2f52da28"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-64a5513c-1616-33aa-a9c5-010f2f52da28">In reply to Harold Chattaway</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-6783cd89-d9ee-31b4-81c7-5742669f95c1"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6783cd89-d9ee-31b4-81c7-5742669f95c1" title="permalink">4 years ago (2017-02-14 08:51:08 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-64a5513c-1616-33aa-a9c5-010f2f52da28">In reply to Harold Chattaway</a></div></div><div class="comment-message" style="clear:both;"><p>If you have I/O, then use those mechanisms (e.g., Task.Factory.FromAsync).</p>
<p>If you have any other kind of event, then use TaskCompletionSource.</p>
<p>If you have code to run and need to free up the UI thread, then use a background thread (e.g., Task.Run).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="6783cd89-d9ee-31b4-81c7-5742669f95c1"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6783cd89-d9ee-31b4-81c7-5742669f95c1">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-1a588009-cc96-3fdb-a2eb-b9449c0a9df7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/82df17885fa751600eac9fa114cae9e8"></div><div class="comment-author"><span class="comment-author-name">Dave Parsons</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a588009-cc96-3fdb-a2eb-b9449c0a9df7" title="permalink">4 years ago (2017-06-05 10:30:01 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>The I/O completion port is said to have a "dedicated thread" that tracks the thread at hand that initiates an I/O. This port also provides overlapped I/O. Assume a thread that is doing some work then asynchronously kicks of an I/O-bound workload ( a disk I/O meant to read a file from a file system). The asynchronous call permitted that thread to return to the user-interface, and thus avoid blocking, unresponsiveness, and overall window freeze up. Having returned, this thread then resumes to update, resize, handle events, process message in the message pump. If such is the case, then how would it process the data from the I/O request Packet?<br>
The thread pool uses I/O Completion Port resource, but how would it obtain this data to either queue or process it?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="1a588009-cc96-3fdb-a2eb-b9449c0a9df7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a588009-cc96-3fdb-a2eb-b9449c0a9df7">In reply to Dave Parsons</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-e3ec4322-493d-3689-9d5e-f3d563e06ad7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e3ec4322-493d-3689-9d5e-f3d563e06ad7" title="permalink">4 years ago (2017-06-06 05:16:07 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a588009-cc96-3fdb-a2eb-b9449c0a9df7">In reply to Dave Parsons</a></div></div><div class="comment-message" style="clear:both;"><p>By the time the IOCP is notified, the data has already been copied into a user-mode buffer.</p>
<p>To use your example, when the read is started, the buffer is already allocated and a pointer to the buffer is passed down into the OS. By the time the IOCP is notified the read is completed, that buffer already has the data.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="e3ec4322-493d-3689-9d5e-f3d563e06ad7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e3ec4322-493d-3689-9d5e-f3d563e06ad7">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d9bb392c-185a-3416-8233-860a4f140fcd"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/1404bfd9442ce20ac0c2e08ec022fefc"></div><div class="comment-author"><span class="comment-author-name">S2RaL</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d9bb392c-185a-3416-8233-860a4f140fcd" title="permalink">4 years ago (2017-07-05 01:12:05 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Stephen.Thanks for such a great article! But if there is no thread,Why Visual Studio shows that it creates a new Thread?Every time when I call for example WebClient's DownloadStringTaskAsync method,it creates a new thread.Even all microsoft's async methods behaviour like this.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d9bb392c-185a-3416-8233-860a4f140fcd"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d9bb392c-185a-3416-8233-860a4f140fcd">In reply to S2RaL</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d4ddb043-e5ad-3af4-8167-c7329c0999ff"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d4ddb043-e5ad-3af4-8167-c7329c0999ff" title="permalink">4 years ago (2017-07-05 11:22:02 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d9bb392c-185a-3416-8233-860a4f140fcd">In reply to S2RaL</a></div></div><div class="comment-message" style="clear:both;"><p>Thread pool threads are spun up as necessary. E.g., they're needed to be "borrowed briefly" - used for a very short time and then returned to the thread pool. WebClient won't block a thread for the entire download, though.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d4ddb043-e5ad-3af4-8167-c7329c0999ff"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d4ddb043-e5ad-3af4-8167-c7329c0999ff">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-b6ae0433-0d51-337a-8a85-980cb6f50c53"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/501fdb8376d6474f00f4dafe84ed5c12"></div><div class="comment-author"><span class="comment-author-name">Harsh Maurya</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b6ae0433-0d51-337a-8a85-980cb6f50c53" title="permalink">4 years ago (2017-07-13 11:36:45 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Is it possible to have the UI thread poll the IOCP instead of an IO thread? I know it is not useful but just asking a theoretical question for some reason.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="b6ae0433-0d51-337a-8a85-980cb6f50c53"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b6ae0433-0d51-337a-8a85-980cb6f50c53">In reply to Harsh Maurya</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-b6c5c522-b6ed-3eec-8be5-6c9f533fa71a"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b6c5c522-b6ed-3eec-8be5-6c9f533fa71a" title="permalink">4 years ago (2017-07-14 12:35:38 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b6ae0433-0d51-337a-8a85-980cb6f50c53">In reply to Harsh Maurya</a></div></div><div class="comment-message" style="clear:both;"><p>AFAIK, you can't poll an IOCP. It's a notification mechanism - an IOCP thread is blocked until a new packet arrives for that IOCP.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="b6c5c522-b6ed-3eec-8be5-6c9f533fa71a"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b6c5c522-b6ed-3eec-8be5-6c9f533fa71a">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0cd5ca18-270d-3730-b707-e2f2899ef0f0"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/501fdb8376d6474f00f4dafe84ed5c12"></div><div class="comment-author"><span class="comment-author-name">Harsh Maurya</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0cd5ca18-270d-3730-b707-e2f2899ef0f0" title="permalink">4 years ago (2017-07-14 08:59:20 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-b6c5c522-b6ed-3eec-8be5-6c9f533fa71a">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks. Do you think it is possible to write a single threaded program with async behavior? By single thread I mean, not involving even the threadpool IO thread.<br>
From your article I understand that this might not be possible for an IO operation but can't a single thread's time be sliced into mutiple tasks so that client "feels" that it is async?<br>
See my question here: <a href="https://stackoverflow.com/questions/45086555/writing-async-program-with-single-thread" rel="nofollow noopener">https://stackoverflow.com/questions/45086555/writing-async-program-with-single-thread</a><br>
Thanks for your time btw.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0cd5ca18-270d-3730-b707-e2f2899ef0f0"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0cd5ca18-270d-3730-b707-e2f2899ef0f0">In reply to Harsh Maurya</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-01c13727-850e-36d1-a4e6-603651c24376"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-01c13727-850e-36d1-a4e6-603651c24376" title="permalink">4 years ago (2017-07-14 05:11:39 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0cd5ca18-270d-3730-b707-e2f2899ef0f0">In reply to Harsh Maurya</a></div></div><div class="comment-message" style="clear:both;"><p>Yes; I've done this with C++. It's much more difficult in a managed language, but it's possible, e.g., using APCs instead of an IOCP.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="01c13727-850e-36d1-a4e6-603651c24376"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-01c13727-850e-36d1-a4e6-603651c24376">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-73e28f7f-d003-39fd-a079-b211570134e4"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/37511e0a682d90aae2b084830473e006"></div><div class="comment-author"><span class="comment-author-name">yue shi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-73e28f7f-d003-39fd-a079-b211570134e4" title="permalink">4 years ago (2017-07-20 05:17:31 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks for the great article. I still have a question.<br>
Imagine we have another async method in between UI or web api controller and the async IO operations. Who executes that code?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="73e28f7f-d003-39fd-a079-b211570134e4"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-73e28f7f-d003-39fd-a079-b211570134e4">In reply to yue shi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-10f80821-adca-3491-a000-35c74f2d5c16"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-10f80821-adca-3491-a000-35c74f2d5c16" title="permalink">4 years ago (2017-07-20 05:34:23 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-73e28f7f-d003-39fd-a079-b211570134e4">In reply to yue shi</a></div></div><div class="comment-message" style="clear:both;"><p>The code resumes on whatever context was captured at the point of the await. The built-in "context"s are generally the UI thread or a thread pool thread.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="10f80821-adca-3491-a000-35c74f2d5c16"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-10f80821-adca-3491-a000-35c74f2d5c16">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-c51892db-596d-3cce-80c0-a11285a19ffc"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/37511e0a682d90aae2b084830473e006"></div><div class="comment-author"><span class="comment-author-name">yue shi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c51892db-596d-3cce-80c0-a11285a19ffc" title="permalink">4 years ago (2017-07-21 04:07:58 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-10f80821-adca-3491-a000-35c74f2d5c16">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>I got it. Statements like "await returns control to caller" from other web sites are over simplified. There is state machine generated when compiler sees "await". Thanks.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="c51892db-596d-3cce-80c0-a11285a19ffc"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c51892db-596d-3cce-80c0-a11285a19ffc">In reply to yue shi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-02580edd-4ee3-3531-8954-eb31ac1c00a6"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/a508eb724aeca6e480e74289ea6bcb9c"></div><div class="comment-author"><span class="comment-author-name">Yogesh Dhongade</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02580edd-4ee3-3531-8954-eb31ac1c00a6" title="permalink">4 years ago (2017-07-28 05:16:04 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Very nice article and liked the caption and the explanation. Can we extend the functionality of async with pipes and sockets ?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="02580edd-4ee3-3531-8954-eb31ac1c00a6"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02580edd-4ee3-3531-8954-eb31ac1c00a6">In reply to Yogesh Dhongade</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-3bd830a1-cde0-33a4-bedb-b7779faf728d"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3bd830a1-cde0-33a4-bedb-b7779faf728d" title="permalink">4 years ago (2017-07-28 05:24:54 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02580edd-4ee3-3531-8954-eb31ac1c00a6">In reply to Yogesh Dhongade</a></div></div><div class="comment-message" style="clear:both;"><p>I'm not sure what you mean by "extend the functionality". Async can be used to read/write pipes and sockets, sure, and you can create higher-level asynchronous calls that include messages and responses (e.g., HttpClient or SignalR).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="3bd830a1-cde0-33a4-bedb-b7779faf728d"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3bd830a1-cde0-33a4-bedb-b7779faf728d">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-69f33e10-dcd3-3206-b2c9-29576e5ef9ca"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/a508eb724aeca6e480e74289ea6bcb9c"></div><div class="comment-author"><span class="comment-author-name">Yogesh Dhongade</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-69f33e10-dcd3-3206-b2c9-29576e5ef9ca" title="permalink">4 years ago (2017-07-28 05:30:28 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3bd830a1-cde0-33a4-bedb-b7779faf728d">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks for immediate response. Extend the functionality means there are some implementations which claims that some .NET asynchronous calls are using IOCP internally. So I was not sure about the same and trying to use IOCP &amp; OVERLAPPED IO in .NET for best performance. I stumbled on this article in same context where I think it gave me quite good idea.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="69f33e10-dcd3-3206-b2c9-29576e5ef9ca"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-69f33e10-dcd3-3206-b2c9-29576e5ef9ca">In reply to Yogesh Dhongade</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-3293c452-a66f-34ff-aa17-c9f3fa2f98a0"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3293c452-a66f-34ff-aa17-c9f3fa2f98a0" title="permalink">4 years ago (2017-07-29 06:39:27 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-69f33e10-dcd3-3206-b2c9-29576e5ef9ca">In reply to Yogesh Dhongade</a></div></div><div class="comment-message" style="clear:both;"><p>Sure, you can build Task-returning methods around OVERLAPPED APIs - I've done it. It's not exactly straightforward but it's doable. I've been planning a blog post series on the subject for a while, but it's a big undertaking and I just haven't gotten started yet.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="3293c452-a66f-34ff-aa17-c9f3fa2f98a0"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3293c452-a66f-34ff-aa17-c9f3fa2f98a0">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7dcb012b-eeea-3c6d-91b8-a985bd767cb9"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/003df623d728f783fdca0e70ce803069"></div><div class="comment-author"><span class="comment-author-name">Machine Learning</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7dcb012b-eeea-3c6d-91b8-a985bd767cb9" title="permalink">4 years ago (2017-08-22 11:09:44 am)</a></div></div><div class="comment-message" style="clear:both;"><p>What's the equivalent of this mechanism under Unix (Linux, Mac) with Core CLR?<br>
What happens to Win32 classes like the overlapped I/O and how do an "I/O request packet" translate into Unix?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7dcb012b-eeea-3c6d-91b8-a985bd767cb9"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7dcb012b-eeea-3c6d-91b8-a985bd767cb9">In reply to Machine Learning</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-83c0b411-2e81-3bd9-aa3c-20f31db9b426"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-83c0b411-2e81-3bd9-aa3c-20f31db9b426" title="permalink">4 years ago (2017-08-22 05:04:32 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7dcb012b-eeea-3c6d-91b8-a985bd767cb9">In reply to Machine Learning</a></div></div><div class="comment-message" style="clear:both;"><p>I'm not as familiar with the Linux kernel, but AFAIK on Linux, it's up to the device driver whether to support asynchronous I/O.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="83c0b411-2e81-3bd9-aa3c-20f31db9b426"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-83c0b411-2e81-3bd9-aa3c-20f31db9b426">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-bcf69c86-e2fa-3b89-99dd-b124049f870d"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/003df623d728f783fdca0e70ce803069"></div><div class="comment-author"><span class="comment-author-name">Machine Learning</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-bcf69c86-e2fa-3b89-99dd-b124049f870d" title="permalink">4 years ago (2017-08-22 05:07:22 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-83c0b411-2e81-3bd9-aa3c-20f31db9b426">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you,<br>
of course the device driver has to support asynchronous I/O, but what about the Net Core implementation of the async call (I assume it is the BCL library in your image above)<br>
Do you agree that the .Net OS specific part is likely implemented in the sync manager of PAL in CoreCLR (or similar) as per this answer? <a href="https://stackoverflow.com/a/45808571/6996876" rel="nofollow noopener">https://stackoverflow.com/a/45808571/6996876</a> Thanks again for your help!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="bcf69c86-e2fa-3b89-99dd-b124049f870d"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-bcf69c86-e2fa-3b89-99dd-b124049f870d">In reply to Machine Learning</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-281fadd1-662c-35ed-9354-8a4279e863e1"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-281fadd1-662c-35ed-9354-8a4279e863e1" title="permalink">4 years ago (2017-08-26 02:39:26 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-bcf69c86-e2fa-3b89-99dd-b124049f870d">In reply to Machine Learning</a></div></div><div class="comment-message" style="clear:both;"><p>I really have no idea.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="281fadd1-662c-35ed-9354-8a4279e863e1"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-281fadd1-662c-35ed-9354-8a4279e863e1">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-66589d6e-3555-37d0-8097-af3823ded819"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/003df623d728f783fdca0e70ce803069"></div><div class="comment-author"><span class="comment-author-name">Machine Learning</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-66589d6e-3555-37d0-8097-af3823ded819" title="permalink">4 years ago (2017-08-26 02:33:43 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-281fadd1-662c-35ed-9354-8a4279e863e1">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Ok, let's forget Unix for a moment and let me ask a higher level question: on Windows, the fact that "there is no thread" is not an implementation detail, is it? You assume that the correct usage scenario of async is not a cpu bound but an io bound activity and that, in such a correct usage scenario, together with other truly async driver/kernel/etc… io functions, this dotnet "async/await" language feature - as opposite to a Task.Run - results in - 1 thread, correct?</p>
<p>P.S. In other words, maybe more explicitly, do you agree with what DavidFowl writes about async/await in this comment: "The basic motivation for Async I/O is to boost performance That doesn't have anything to do with async/await though. AKA it is NOT the basis, nor is it required for async/await to function. Async/await is just C#'s represenation of co-routines." <a href="https://stackoverflow.com/questions/45808446/p-invoke-and-overlapped-i-o-in-core-clr-on-unix#comment78756598_45808446" rel="nofollow noopener">https://stackoverflow.com/questions/45808446/p-invoke-and-overlapped-i-o-in-core-clr-on-unix#comment78756598_45808446</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="66589d6e-3555-37d0-8097-af3823ded819"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-66589d6e-3555-37d0-8097-af3823ded819">In reply to Machine Learning</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ff3b0684-14df-301b-8d37-462f44674dc0"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ff3b0684-14df-301b-8d37-462f44674dc0" title="permalink">4 years ago (2017-08-28 07:46:50 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-66589d6e-3555-37d0-8097-af3823ded819">In reply to Machine Learning</a></div></div><div class="comment-message" style="clear:both;"><p>He's speaking from a language perspective. At the language level, async/await has nothing to do with OVERLAPPED or anything like that. It's just a code transformation. So, sure, you can use async/await to consume a lot of things: asynchronous I/O, CPU-bound thread pool work (Task.Run), timers (Task.Delay), combinations (Task.WhenAll), button clicks (<a href="https://blogs.msdn.microsoft.com/lucian/2012/11/28/how-to-await-a-button-click/" rel="nofollow noopener">https://blogs.msdn.microsoft.com/lucian/2012/11/28/how-to-await-a-button-click/</a>), …</p>
<p>Similarly, you can achieve the "there is no thread" scenario with any kind of fully-asynchronous I/O. Whether it's async/await or OVERLAPPED or IAsyncResult or event-based asynchrony doesn't matter. I've written a fully asynchronous I/O model in C on an embedded system without an OS.</p>
<p>It's the combination of async/await with the truly-asynchronous I/O implementations that make the modern paradign so powerfully performant. All the other asynchronous code patterns are much more difficult to maintain than async/await.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ff3b0684-14df-301b-8d37-462f44674dc0"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ff3b0684-14df-301b-8d37-462f44674dc0">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-dd8249c7-5dd0-3542-a3bb-30c26e02ab14"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/f9305ce7b205cf5211f1b6a4aaf34c9c.jpeg"></div><div class="comment-author"><span class="comment-author-name">Zubin Rakesh Joshi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-dd8249c7-5dd0-3542-a3bb-30c26e02ab14" title="permalink">3 years ago (2017-12-26 10:43:37 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Great article. Have been searching for the concept.. thank you !!<br>
one question - I find article of having node js getting much benefit writing IO bound tasks with one thread and non blocking IO. I believe <a href="http://asp.net/" rel="nofollow noopener">asp.net</a> with async/await features uses the asnc programming with multi threads is more beneficial . since it uses multiple thread it might be using multi core easily.. pls correct me !!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="dd8249c7-5dd0-3542-a3bb-30c26e02ab14"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-dd8249c7-5dd0-3542-a3bb-30c26e02ab14">In reply to Zubin Rakesh Joshi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-8736a9c1-67d4-3c05-9f05-103caf95f5fa"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8736a9c1-67d4-3c05-9f05-103caf95f5fa" title="permalink">3 years ago (2017-12-26 11:50:41 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-dd8249c7-5dd0-3542-a3bb-30c26e02ab14">In reply to Zubin Rakesh Joshi</a></div></div><div class="comment-message" style="clear:both;"><p>I believe ASP.NET's design (in particular, ASP.NET Core's implementation) is better suited to scalable web apps. One major benefit that Node has is that it <em>forces</em> developers to use asynchrony (it has to, since it only has one thread). ASP.NET only <em>allows</em> developers to use asynchrony, and a lot of devs just don't take advantage of it (or can't, if some third-party library doesn't support asynchrony).</p>
<p>In the Node world, if you have a multicore CPU, one common option is to run multiple node webserver instances, and tie them together with a load balancer like nginx (all on the same box). While this works, I think it's more complex to get right than the out-of-the-box parallelism (with asynchrony) that ASP.NET provides.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="8736a9c1-67d4-3c05-9f05-103caf95f5fa"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8736a9c1-67d4-3c05-9f05-103caf95f5fa">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-07c0d627-54b2-30f6-a7b3-3c1794aeda61"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/1d071a2559b38acd23991885bfecda38.jpeg"></div><div class="comment-author"><span class="comment-author-name">pwee167</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-07c0d627-54b2-30f6-a7b3-3c1794aeda61" title="permalink">3 years ago (2018-01-26 05:14:15 am)</a></div></div><div class="comment-message" style="clear:both;"><p>@StephenCleary Where is the state of the state machine in an async method stored before it is resumed? I imagine this is important to know where to continue the execution and also to capture any previous variables.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="07c0d627-54b2-30f6-a7b3-3c1794aeda61"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-07c0d627-54b2-30f6-a7b3-3c1794aeda61">In reply to pwee167</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-aa0a4b72-d3d8-3c9e-b468-9f3e8b599920"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-aa0a4b72-d3d8-3c9e-b468-9f3e8b599920" title="permalink">3 years ago (2018-01-26 09:00:44 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-07c0d627-54b2-30f6-a7b3-3c1794aeda61">In reply to pwee167</a></div></div><div class="comment-message" style="clear:both;"><p>The compiler creates a struct that holds the state and local variables. If an await needs to yield (i.e., return to its caller), that struct is boxed and lives on the heap.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="aa0a4b72-d3d8-3c9e-b468-9f3e8b599920"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-aa0a4b72-d3d8-3c9e-b468-9f3e8b599920">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-9432b305-cdc0-3ee7-8f70-95419d5b9476"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/1d071a2559b38acd23991885bfecda38.jpeg"></div><div class="comment-author"><span class="comment-author-name">pwee167</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9432b305-cdc0-3ee7-8f70-95419d5b9476" title="permalink">3 years ago (2018-01-27 05:48:32 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-aa0a4b72-d3d8-3c9e-b468-9f3e8b599920">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>@stephen_cleary:disqus - Awesome. This raises more questions for me…hehe</p>
<p>Once the work is done by the device (e.g. harddisk), my (novice) understanding is there is a task or some sort of request queued up against the threadpool. A threadpool thread then picks this up to continue execution of the next part of the original function (i.e. past the await).</p>
<p>How does this threadpool thread attain the reference to the struct you mention to resume the state machine and continue execution? Is the call back information/struct address passed all the way to the device driver and it keeps this information for later when queueing up for the continuation?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="9432b305-cdc0-3ee7-8f70-95419d5b9476"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9432b305-cdc0-3ee7-8f70-95419d5b9476">In reply to pwee167</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-889e71e5-f786-3c7b-8328-390733e5e63f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-889e71e5-f786-3c7b-8328-390733e5e63f" title="permalink">3 years ago (2018-01-28 08:16:37 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9432b305-cdc0-3ee7-8f70-95419d5b9476">In reply to pwee167</a></div></div><div class="comment-message" style="clear:both;"><p>If you want to dive that deep, then think of it in terms of callbacks. The task callback (a.k.a. continuation) contains a reference to the state machine struct.</p>
<p>At each level, only the state at that level is referenced. The IRP contains the callbacks in the driver stack, OVERLAPPED contains the callback in the (unmanaged) user-mode process (processed via I/O Completion Ports), and Task contains the callback(s) in managed code. Only this last callback references the state machine struct; the others reference their own similar structures.</p>
<p>So, when an asynchronous I/O operation is in flight, there's no call stack in memory. Instead, there's a series of callbacks that all refer to each other, from the lowest level device driver up to your own managed code.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="889e71e5-f786-3c7b-8328-390733e5e63f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-889e71e5-f786-3c7b-8328-390733e5e63f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-18ac7780-04c0-11eb-b16a-51173e8f1ad4"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Orbstein</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-18ac7780-04c0-11eb-b16a-51173e8f1ad4" title="permalink">5 months ago (2020-10-02 08:31:07 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-889e71e5-f786-3c7b-8328-390733e5e63f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Just to clarify my understanding.</p>
<p>When the IO/Threads calls GetQueuedCompletionStatus it receives the Overlapped structure and it contains a reference to an object that is the Task, marking it as completed and calling the continuation method that is the resumed state machine? Is there other variants of this flow?</p>
<p>Thanks.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="18ac7780-04c0-11eb-b16a-51173e8f1ad4"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-18ac7780-04c0-11eb-b16a-51173e8f1ad4">In reply to Orbstein</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-1a85bd90-057f-11eb-a2e6-2905133aa567"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a85bd90-057f-11eb-a2e6-2905133aa567" title="permalink">5 months ago (2020-10-03 07:18:23 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-18ac7780-04c0-11eb-b16a-51173e8f1ad4">In reply to Orbstein</a></div></div><div class="comment-message" style="clear:both;"><p>Yes, the <code>OVERLAPPED</code> structure is passed to the I/O thread when it gets its work (e.g., <code>GetQueuedCompletionStatus</code>). The task is completed from there.</p>
<p>The only variant that I can think of is that the task is sometimes not completed synchronously by the I/O thread; instead, the I/O thread will queue a delegate to the thread pool, so a worker thread will do the actual completion of the task.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="1a85bd90-057f-11eb-a2e6-2905133aa567"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1a85bd90-057f-11eb-a2e6-2905133aa567">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-50443b21-769f-3b9e-99f3-b4cbfd9d449a"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/ab366570c646860ad1011a4c0868c000"></div><div class="comment-author"><span class="comment-author-name">Flow Bandit</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-50443b21-769f-3b9e-99f3-b4cbfd9d449a" title="permalink">3 years ago (2018-01-31 05:28:11 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks, This answered so many questuons I’ve had.</p>
<p>One of the only qyestuon I have left is.</p>
<p>What would be quicker on a single core environment, asumming the burden of the task was network bound:</p>
<p>Running synchronous for a network bound operation, the thread should be blocked, but the cpu doesn’t not wait during the sleep it periodically checks of it has return correct?</p>
<p>Or running async and having a hardware interupt signal back</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="50443b21-769f-3b9e-99f3-b4cbfd9d449a"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-50443b21-769f-3b9e-99f3-b4cbfd9d449a">In reply to Flow Bandit</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-4924d195-1e4f-3693-8924-a5ea735dbbef"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4924d195-1e4f-3693-8924-a5ea735dbbef" title="permalink">3 years ago (2018-01-31 06:04:59 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-50443b21-769f-3b9e-99f3-b4cbfd9d449a">In reply to Flow Bandit</a></div></div><div class="comment-message" style="clear:both;"><p>As a general rule, blocking code is faster, but asynchronous code is more scalable. This is true regardless of the number of cores.</p>
<p>When synchronously blocking, the thread is in a suspended state and not scheduled onto a CPU. Once the hardware interrupts, it completes the (asynchronous) I/O, which then moves the thread to a ready state, so it will then be scheduled.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="4924d195-1e4f-3693-8924-a5ea735dbbef"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4924d195-1e4f-3693-8924-a5ea735dbbef">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-38b7b886-2a53-3900-bd7b-6a2588f633b6"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/f55500eeac346a343ab1aebe3d734201"></div><div class="comment-author"><span class="comment-author-name">Grant Hoffman</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-38b7b886-2a53-3900-bd7b-6a2588f633b6" title="permalink">3 years ago (2018-02-07 10:41:02 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Good job on the article, I'm just left with one question. I get that when operating ASYNC you do not block a thread, but don't you still need an additional thread for at least for a quantum. Say I'm operating on a thread which manages the UI. Then, I create an async task to do some background work. The thread then does a context switch to do the background work, What happens to the UI at this point, am I blocked until we do an I/O operation? Or is that task picked up by another thread in the thread pool?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="38b7b886-2a53-3900-bd7b-6a2588f633b6"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-38b7b886-2a53-3900-bd7b-6a2588f633b6">In reply to Grant Hoffman</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-2f309c8f-c1b5-364a-862c-980332c3d6a7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3db7b6e14d9da42751e4bab03bc4d034.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2f309c8f-c1b5-364a-862c-980332c3d6a7" title="permalink">3 years ago (2018-02-09 12:17:40 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-38b7b886-2a53-3900-bd7b-6a2588f633b6">In reply to Grant Hoffman</a></div></div><div class="comment-message" style="clear:both;"><p>I think the disconnect is here: "I create an async task to do some background work."</p>
<p>Tasks that do background work (e.g., Task.Run) are not asynchronous. The UI can consume them asynchronously (just like truly asynchronous tasks), but they represent synchronous work to be done on a thread pool thread.</p>
<p>Regarding thread switching, there's nothing special going on. Threads and CPU scheduling are handled at the OS level by the preemptive scheduler just like always.</p>
<p>The key behind truly asynchronous methods is that there is no "work" to do. Thus, no need for a thread. If you, e.g., asynchronously read from a socket, then there is no thread that has to periodically say "is there data yet?" Instead, the task acts like an event callback; the networking layer will tell <em>your</em> app when there's data.</p>
<p>So there's actually no switch away from the UI thread at all; the UI starts reading from the socket and then awaits (returning to its event loop). When the data is read, the networking layer calls back into your app, (eventually) posting a message to your UI thread, which then resumes executing that async method as a result of that message.</p>
<p>(the details are a bit more complex - there are some threadpool threads used for extremely brief periods during the "notification" phase - but this is the general gist)</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="2f309c8f-c1b5-364a-862c-980332c3d6a7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2f309c8f-c1b5-364a-862c-980332c3d6a7">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7f72fb00-718d-11e9-a6c3-add47ff521ab"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/5441945c65e3a98df2e7a91dc7e9118c.jpeg"></div><div class="comment-author"><span class="comment-author-name">Alice Bevan-McGregor</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://github.com/amcgregor/">https://github.com/amcgregor/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7f72fb00-718d-11e9-a6c3-add47ff521ab" title="permalink">2 years ago (2019-05-08 06:03:35 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2f309c8f-c1b5-364a-862c-980332c3d6a7">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>I like to use the example of the DOS command.com interactive prompt, asking students, "Do you really think it's sitting there in a busy loop, constantly polling the keyboard memory area to see if anything's being pressed… now? How about now? Anything yet? So lonely… — no. DOS services register an interrupt handler to handle ISRs from the keyboard, make note of the press, then resumes whatever else was going on. Nothing ever actually sits and actively waits… except possibly the CPU itself put into an idle power management state waiting (passively!) for that eventual ISR.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7f72fb00-718d-11e9-a6c3-add47ff521ab"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7f72fb00-718d-11e9-a6c3-add47ff521ab">In reply to Alice Bevan-McGregor</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-eb69372b-9186-3195-be40-68e194c091c6"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/92efde5d548b57c5f5ce697f25f88913"></div><div class="comment-author"><span class="comment-author-name">Agshin Nabiyev</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eb69372b-9186-3195-be40-68e194c091c6" title="permalink">3 years ago (2018-04-30 06:51:47 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Great article! I'v tried for month to find exact explanation.Here it is.Thank you!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="eb69372b-9186-3195-be40-68e194c091c6"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eb69372b-9186-3195-be40-68e194c091c6">In reply to Agshin Nabiyev</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-178e2d80-9ad7-11e8-82d8-69ed00e8bcf5"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Amir</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-178e2d80-9ad7-11e8-82d8-69ed00e8bcf5" title="permalink">3 years ago (2018-08-08 12:18:44 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Stephen, Great Blog!!</p>
<p>After reading your tour of tasks section and this post, then I get to the following conclusions:</p>
<ol>
<li>Delegate tasks must run on some kind of Thread-pool thread since you must use a thread to run CPU bound code.</li>
<li>Promise tasks are actually the real async operations. They use a Task an a "interface" wrapper but no thread is allocated since there is no use for one.</li>
</ol>
<p>Am I correct here? </p>
<p>Tasks are complex and I couldn't find an in-depth blog (yours is the closest). Most of the blogs focus on the async state machine. Can you also recommend a source for a behind the scenes on Tasks? I'm currently reading the source code using ILSpy and reading your blog, but I would like to go deeper.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="178e2d80-9ad7-11e8-82d8-69ed00e8bcf5"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-178e2d80-9ad7-11e8-82d8-69ed00e8bcf5">In reply to Amir</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-16f24680-a339-11e8-be2c-8d65cf80d10f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-16f24680-a339-11e8-be2c-8d65cf80d10f" title="permalink">3 years ago (2018-08-19 04:20:23 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-178e2d80-9ad7-11e8-82d8-69ed00e8bcf5">In reply to Amir</a></div></div><div class="comment-message" style="clear:both;"><p>Yes, that is correct. As far as "in-depth" sources, there aren't many. I'd recommend anything written by Stephen Toub. He has some great talks from //Build, MSDN articles, and some blog posts on the Parallel Team blog.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="16f24680-a339-11e8-be2c-8d65cf80d10f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-16f24680-a339-11e8-be2c-8d65cf80d10f">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-8fdddd30-d1c3-11e8-94ce-b56b73f5fd7f"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/fbd0de6ca98b9ab6d316ee57c4239058"></div><div class="comment-author"><span class="comment-author-name">Mark</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8fdddd30-d1c3-11e8-94ce-b56b73f5fd7f" title="permalink">2 years ago (2018-10-17 09:47:30 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Could you help me understand the limitations of the "There is No Thread" scenario with regards to this this Microsoft support article (<a href="https://support.microsoft.com/en-us/help/156932/asynchronous-disk-i-o-appears-as-synchronous-on-windows)" rel="nofollow noopener">https://support.microsoft.com/en-us/help/156932/asynchronous-disk-i-o-appears-as-synchronous-on-windows)</a>, which says:</p>
<p>"On Windows NT, any write operation to a file that extends its length will be synchronous."</p>
<p>as well as:</p>
<p>"The memory manager in Windows NT does not provide an asynchronous page fault mechanism to manage the file mappings used by the cache manager…so if you issue an asynchronous cached read, and the pages are not in memory, the file system driver assumes that you do not want your thread blocked and the request will be handled by a limited pool of worker threads…Because the pool of worker threads is limited…If you issue a lot of I/O operations for data that is not in the cache, the cache manager and memory manager become saturated and your requests are made synchronous."</p>
<p>In the first quote, it sounds like that the user thread will block until the write operation completes, and in the second quote it sounds like either some kernel thread or the user thread will be blocked waiting for the page fault to complete, depending on load.</p>
<p>Since, in my own work, it would seem to be harmful to performance to use FILE_FLAG_NO_BUFFERING for reads, and pretty much all of my writes are appending to the end of a file (and even though I may know what the final length of the file may be, I can't use SetFileValidData() because my application does not run with admin privileges), does this mean that I would derive no benefit from using async IO? At least, no benefit that I couldn't achieve with just Task.Run() on a sync IO API call?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="8fdddd30-d1c3-11e8-94ce-b56b73f5fd7f"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8fdddd30-d1c3-11e8-94ce-b56b73f5fd7f">In reply to Mark</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-a499b8e0-d7cf-11e8-a9f1-05b1ca7b5c0d"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a499b8e0-d7cf-11e8-a9f1-05b1ca7b5c0d" title="permalink">2 years ago (2018-10-25 02:29:05 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8fdddd30-d1c3-11e8-94ce-b56b73f5fd7f">In reply to Mark</a></div></div><div class="comment-message" style="clear:both;"><p>There are some limitations on Windows async file I/O. However, these limitations may be removed in future kernel versions. For this reason, I tend to write all my I/O as asynchronous; if I'm appending to a file and the OS makes it synchronous, it's possible for a future OS update to make it asynchronous. If I write my I/O as synchronous, then I can't benefit from future OS improvements around asynchrony without changing my code.</p>
<p>However, I would recommend running performance tests with both async and sync file I/O running in your particular scenario. Last time I checked, there were some performance concerns with using BCL async file I/O heavily.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="a499b8e0-d7cf-11e8-a9f1-05b1ca7b5c0d"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a499b8e0-d7cf-11e8-a9f1-05b1ca7b5c0d">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-703cdab0-dc79-11e8-ae79-43654a0a22ec"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/63f3fb68fcc00284ed01066773b6c8ca.png"></div><div class="comment-author"><span class="comment-author-name">Sean Vikoren</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="http://vikoren.com/">http://vikoren.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-703cdab0-dc79-11e8-ae79-43654a0a22ec" title="permalink">2 years ago (2018-10-31 12:54:37 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you for that really great explanation!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="703cdab0-dc79-11e8-ae79-43654a0a22ec"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-703cdab0-dc79-11e8-ae79-43654a0a22ec">In reply to Sean Vikoren</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-6e9c0a50-0a8c-11e9-9bb1-17a44b157a7e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Pravin</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6e9c0a50-0a8c-11e9-9bb1-17a44b157a7e" title="permalink">2 years ago (2018-12-28 04:06:28 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks for the article. I googled to know exactly this!</p>
<p>Do you know if the same behavior is possible in Java (or other non .net languages) as well?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="6e9c0a50-0a8c-11e9-9bb1-17a44b157a7e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6e9c0a50-0a8c-11e9-9bb1-17a44b157a7e">In reply to Pravin</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-67aae750-0ab6-11e9-9bb1-17a44b157a7e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-67aae750-0ab6-11e9-9bb1-17a44b157a7e" title="permalink">2 years ago (2018-12-28 09:06:55 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6e9c0a50-0a8c-11e9-9bb1-17a44b157a7e">In reply to Pravin</a></div></div><div class="comment-message" style="clear:both;"><p>It's possible (in theory) in any language, but it really varies in complexity. JavaScript makes it easy, and C# / Python / F# / VB slightly harder. I've used this kind of programming with both C and C++, where it is much more complex. I believe Java would fall into the more complex category as well, but I have no direct experience there.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="67aae750-0ab6-11e9-9bb1-17a44b157a7e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-67aae750-0ab6-11e9-9bb1-17a44b157a7e">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-3afc31f0-718b-11e9-a6c3-add47ff521ab"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/5441945c65e3a98df2e7a91dc7e9118c.jpeg"></div><div class="comment-author"><span class="comment-author-name">Alice Bevan-McGregor</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://github.com/amcgregor/">https://github.com/amcgregor/</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3afc31f0-718b-11e9-a6c3-add47ff521ab" title="permalink">2 years ago (2019-05-08 05:47:22 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-67aae750-0ab6-11e9-9bb1-17a44b157a7e">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Python support for async methodologies has seen some interesting improvements in the last few years. Core language support for "async" declaration of most control flow ("async def", "async for", etc.), "await" as a built-in statement, polished up "asyncio" ("aio") libraries (<a href="https://docs.python.org/3/library/asyncio.html" rel="nofollow noopener">https://docs.python.org/3/library/asyncio.html</a>) and a growing ecosystem of protocol implementations, servers, middleware, and bridges/threading interop, such as: <a href="https://github.com/agronholm/anyio" rel="nofollow noopener">https://github.com/agronholm/anyio</a> — the future is bright, and lacking in threads unless absolutely required.  (See also the concurrent.futures implementation of that pattern, too.)</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="3afc31f0-718b-11e9-a6c3-add47ff521ab"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-3afc31f0-718b-11e9-a6c3-add47ff521ab">In reply to Alice Bevan-McGregor</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-a7563b80-1b54-11e9-ba78-3d3ffff9172b"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Mike</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a7563b80-1b54-11e9-ba78-3d3ffff9172b" title="permalink">2 years ago (2019-01-19 12:40:01 am)</a></div></div><div class="comment-message" style="clear:both;"><p>I think the author has over-complicated something that is quite simple.  I have been managing IT domains for 20+ years, and we know very well that IT loves cryptic sounding buzz words (so that people think it is all way too sophisticated).  Since ancient time faiths have also used this technique to create an environment of mystery (or even magic!) to create various beliefs.</p>
<p>Asynchronous is a generic word used in various fields, it does not have a special meaning in Windows, nor should it.  Asynchronous simply means that two entities/things/signals/processes/threads are not in sync or are not finishing on the same clock cycle.</p>
<p>Threads are really processes (piece of code running) with minor differences.  If you want to execute some function, but not wait for that function to finish, that function will have to execute on a different thread/process.  You can call it mama thread or papa thread or basement thread or whatever - it is a separately scheduled piece of code task-switched by CPU.</p>
<p>Using all mumbo-jumbo words and OS specific convoluted abbreviations does not change any of that.  Again, if you want to continue executing some code while letting some other piece of code execute also at the same time, you are using more than one process or thread (does not matter what terminology you use), and it will be task-switched at CPU level.  If you have more than one cpu (core is also just a cpu) in a symmetrical system (as is the case now-a-days) your 2 processes may execute simultaneously.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="a7563b80-1b54-11e9-ba78-3d3ffff9172b"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a7563b80-1b54-11e9-ba78-3d3ffff9172b">In reply to Mike</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0bd991e0-1b5c-11e9-ba78-3d3ffff9172b"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0bd991e0-1b5c-11e9-ba78-3d3ffff9172b" title="permalink">2 years ago (2019-01-19 01:32:56 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-a7563b80-1b54-11e9-ba78-3d3ffff9172b">In reply to Mike</a></div></div><div class="comment-message" style="clear:both;"><p>Hi Mike,</p>
<p>Thanks for your comments. They illustrate why it is difficult for me to explain what I mean when I say "asynchronous". In particular, I wrote this blog post specifically to go into detail (on one specific platform) explaining how it's possible to be asynchronous without threads (or processes, or whatever). This is one of the biggest questions people have after reading async intro posts <a href="https://blog.stephencleary.com/2012/02/async-and-await.html" rel="nofollow noopener">like this one of mine</a>.</p>
<p>"Asynchronous" (as used in the modern sense) does <em>not</em> mean "runs on a different thread" (or process, or whatever). The modern meaning of "asynchronous" is what us old-timers would refer to as "callbacks" - just a lot easier to use these days. It's true that asynchronous <em>used</em> to be more synonymous with "parallelism" or "multithreading", but its meaning has shifted over the last decade or so.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0bd991e0-1b5c-11e9-ba78-3d3ffff9172b"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0bd991e0-1b5c-11e9-ba78-3d3ffff9172b">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-d6183a70-4107-11ea-ac15-038facef7728"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/8e49ab37de99f97ff270632bcbaee49d.png"></div><div class="comment-author"><span class="comment-author-name">nowave7</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d6183a70-4107-11ea-ac15-038facef7728" title="permalink">a year ago (2020-01-27 06:50:50 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0bd991e0-1b5c-11e9-ba78-3d3ffff9172b">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Hey Stephen,</p>
<p>First off, thanks for this post. It sure did clear up quite a few questions I had regarding this topic.</p>
<p>But, there are a few remarks I'd like to make and a few questions I'd like to ask.</p>
<ol>
<li>When you say that there is no thread firing the I/O request, that's not entirely true, since you have at least that original UI thread that initiated the I/O operation in the first place? Of course, your argument a bit further down the line, that there is no new thread being created that will block while executing the request is a whole different statement. Am I understanding this correctly? I think it is important to be as precise as possible here, exactly to avoid any kind of confusion.</li>
<li>Now onto something that is still not clear to me.
What exactly happens to the UI thread (or the application itself) during the propagation of the I/O request all the way down to the device itself (or to be more precise till the point when the BCL/library returns an incomplete task). I'm assuming it remains unresponsive? Even for no longer than (and I'm guessing here) 10ms?</li>
<li>And finally, you say that the BCL has already registered a handle with the I/O Completion Port (IOCP), which will then, in turn, be used to create a background thread on the thread pool in order to serve the incoming APC. Which handle would it be exactly and when was this exactly done?</li>
</ol>
<p>Thanks in advance!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="d6183a70-4107-11ea-ac15-038facef7728"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d6183a70-4107-11ea-ac15-038facef7728">In reply to nowave7</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-eb94abe0-4111-11ea-ac15-038facef7728"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eb94abe0-4111-11ea-ac15-038facef7728" title="permalink">a year ago (2020-01-27 08:03:01 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-d6183a70-4107-11ea-ac15-038facef7728">In reply to nowave7</a></div></div><div class="comment-message" style="clear:both;"><ol>
<li>Sorry for the confusion; I meant there is no thread "doing the <code>await</code>" or "executing the I/O operation". There is of course a thread that <em>starts</em> the I/O operation, which can be a UI thread. And there is at least one thread used to <em>complete</em> the I/O operation.</li>
<li>All asynchronous code <a href="https://blog.stephencleary.com/2012/02/async-and-await.html" rel="nofollow noopener">starts executing synchronously</a>. So the UI thread executes that code synchronously. I would <em>not</em> say that it is "unresponsive", however. Probably 2-3ms, which is not enough to qualify as "unresponsive", which as a general rule <a href="https://blog.stephencleary.com/2013/04/ui-guidelines-for-async.html" rel="nofollow noopener">is &gt;50ms</a>. In my experience, starting an I/O operation is actually faster than, say, creating and inserting a tree list node.</li>
<li>The IOCP itself is created during the .NET runtime startup. In the particular example explored in this article (where the asynchronous operation is a file operation), the registering of the handle happens <a href="https://github.com/dotnet/runtime/blob/059b57ae1074b1e06e6afad17cd4d1c22eefb731/src/libraries/System.Private.CoreLib/src/System/IO/FileStream.Windows.cs#L92" rel="nofollow noopener">as a part of opening the file</a>, and the handle being registered is the file handle itself.</li>
</ol></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="eb94abe0-4111-11ea-ac15-038facef7728"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eb94abe0-4111-11ea-ac15-038facef7728">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-9217e020-4295-11ea-a8f2-f77e5be4e817"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/8e49ab37de99f97ff270632bcbaee49d.png"></div><div class="comment-author"><span class="comment-author-name">nowave7</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9217e020-4295-11ea-a8f2-f77e5be4e817" title="permalink">a year ago (2020-01-29 06:17:56 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-eb94abe0-4111-11ea-ac15-038facef7728">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you very much for the answer Stephen. This really makes it much clearer!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="9217e020-4295-11ea-a8f2-f77e5be4e817"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9217e020-4295-11ea-a8f2-f77e5be4e817">In reply to nowave7</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-e19c8330-1fa0-11e9-8fc2-efd230bc5aee"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/72b7a6fb3a3b4dcd8c8ada0586e0d8f8.jpeg"></div><div class="comment-author"><span class="comment-author-name">SangHeon Lee</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e19c8330-1fa0-11e9-8fc2-efd230bc5aee" title="permalink">2 years ago (2019-01-24 11:55:45 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Awesome article, now I understand how async io works in dotnet.</p>
<p>I have one question, Do you have any idea about situation that we need iothread much more than number of processor? (like 10 iothreads per core). Because many article recommend user to increase 'MinIoThread' for better IO performance and people said it actually affect to performance. Moreover, default value of 'MaxIoThread' is 1000.</p>
<p>It depends on situation but as I know, if there's no blocking method in thread loop except GQCS, we don't need thread more than number of processor. And also coreclr limits number of release IOCP thread to number of processor. (<a href="https://github.com/dotnet/coreclr/blob/master/src/vm/win32threadpool.cpp#L456" rel="nofollow noopener">https://github.com/dotnet/coreclr/blob/master/src/vm/win32threadpool.cpp#L456</a>)</p>
<p>So I can't quite understand why we need more than two thread per core, Is there any blocking logic in iothread or am I missing something?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="e19c8330-1fa0-11e9-8fc2-efd230bc5aee"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e19c8330-1fa0-11e9-8fc2-efd230bc5aee">In reply to SangHeon Lee</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-62502ef0-202d-11e9-991f-271b0cc77544"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-62502ef0-202d-11e9-991f-271b0cc77544" title="permalink">2 years ago (2019-01-25 04:41:31 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-e19c8330-1fa0-11e9-8fc2-efd230bc5aee">In reply to SangHeon Lee</a></div></div><div class="comment-message" style="clear:both;"><p>I/O threads <em>usually</em> are not blocked, but there are some BCL methods that will invoke your callback code on an I/O thread. So it can happen. I'm not sure if Core has fixed this or not. Of course, you can also explicitly <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.threadpool.unsafequeuenativeoverlapped" rel="nofollow noopener">schedule your code on an I/O thread</a>, though I've never been sure why you would <em>want</em> to do that.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="62502ef0-202d-11e9-991f-271b0cc77544"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-62502ef0-202d-11e9-991f-271b0cc77544">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-402c93a0-309e-11e9-9886-cb4396af2ad7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/acb477e35d3daa0bf579a3bfaefdfdc0"></div><div class="comment-author"><span class="comment-author-name">Avi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-402c93a0-309e-11e9-9886-cb4396af2ad7" title="permalink">2 years ago (2019-02-15 02:49:45 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Stephen, this question does not directly relate to the material that you dealt with and as such you are under no obligation to understand the question nor to answer it.  If you however do know the answer I will appreciate you sharing your opinion.</p>
<p>Do you know if async/await are *NO MORE" than a syntactic sugar to the *Task-Monad* or if async/await are <em>MORE</em> than just syntactic sugar to the <em>Task-Monad</em>?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="402c93a0-309e-11e9-9886-cb4396af2ad7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-402c93a0-309e-11e9-9886-cb4396af2ad7">In reply to Avi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-9a48d390-30a2-11e9-9886-cb4396af2ad7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9a48d390-30a2-11e9-9886-cb4396af2ad7" title="permalink">2 years ago (2019-02-15 03:20:54 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-402c93a0-309e-11e9-9886-cb4396af2ad7">In reply to Avi</a></div></div><div class="comment-message" style="clear:both;"><p>Copying my <a href="https://stackoverflow.com/questions/54681739/c-sharp-async-await-are-syntactic-sugar-for-the-task-monad" rel="nofollow noopener">SO comment</a> below:</p>
<blockquote>
  <p>I believe <code>async</code>/<code>await</code> are syntactic sugar for a Future monad, of which <code>Task</code> is one example. Compare the <code>async</code>/<code>await</code> support in F# and Scala; while not exactly the same as <code>async</code> in C#, those languages illustrate how <code>async</code> can be built on Future monads using functional macros.</p>
</blockquote></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="9a48d390-30a2-11e9-9886-cb4396af2ad7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9a48d390-30a2-11e9-9886-cb4396af2ad7">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-145d7ec0-30bb-11e9-9886-cb4396af2ad7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/acb477e35d3daa0bf579a3bfaefdfdc0"></div><div class="comment-author"><span class="comment-author-name">Avi</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-145d7ec0-30bb-11e9-9886-cb4396af2ad7" title="permalink">2 years ago (2019-02-15 06:16:07 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-9a48d390-30a2-11e9-9886-cb4396af2ad7">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you Stephen.  Your opinion is always welcomed and valued.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="145d7ec0-30bb-11e9-9886-cb4396af2ad7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-145d7ec0-30bb-11e9-9886-cb4396af2ad7">In reply to Avi</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ff65bfd0-5461-11e9-b3c5-295a240c9847"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Akira</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ff65bfd0-5461-11e9-b3c5-295a240c9847" title="permalink">2 years ago (2019-04-01 03:09:09 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>This post is wrong and misleading!</p>
<p>Read the reference: <a href="https://docs.microsoft.com/en-us/dotnet/csharp/async" rel="nofollow noopener">https://docs.microsoft.com/en-us/dotnet/csharp/async</a></p>
<p>Quoted:</p>
<ul>
<li>For I/O-bound code, you await an operation which returns a Task or Task inside of an async method.</li>
<li>For CPU-bound code, you await an operation which is started on a background thread with the Task.Run method.</li>
</ul>
<p>So many views on this post, please edit, author!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ff65bfd0-5461-11e9-b3c5-295a240c9847"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ff65bfd0-5461-11e9-b3c5-295a240c9847">In reply to Akira</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-c603a090-5489-11e9-b3c5-295a240c9847"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c603a090-5489-11e9-b3c5-295a240c9847" title="permalink">2 years ago (2019-04-01 07:53:52 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ff65bfd0-5461-11e9-b3c5-295a240c9847">In reply to Akira</a></div></div><div class="comment-message" style="clear:both;"><p>This post is about the internal implementations of the lowest-level I/O-bound methods that return a <code>Task</code>. There is no way to use <code>async</code>/<code>await</code> at this level because this <em>is</em> the lowest-level implementation.</p>
<p>For a more general overview of <code>async</code>/<code>await</code>, see <a href="https://blog.stephencleary.com/2012/02/async-and-await.html" rel="nofollow noopener">this post</a>.</p>
<p>If this doesn't clear up your concerns, please follow up with something specific in this post that is wrong or misleading, and I'd be happy to address it.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="c603a090-5489-11e9-b3c5-295a240c9847"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c603a090-5489-11e9-b3c5-295a240c9847">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ed07bf70-54e6-11e9-bf38-c3a3a604c63b"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Akira</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed07bf70-54e6-11e9-bf38-c3a3a604c63b" title="permalink">2 years ago (2019-04-02 07:00:41 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-c603a090-5489-11e9-b3c5-295a240c9847">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>You quoted someone else: “if I am awaiting an operation, there must be a thread…" and your statement: "there is no thread".</p>
<p>I will assume your point is: "there is no thread created when I'm awaiting an operation". That is the misleading.</p>
<p>Instead, you can say: "It depends":</p>
<ul>
<li>If the operation is IO: no thread created - the system supports real async operation.</li>
<li>If the operation is CPU: new thread must be created (via Task.Run) - it's actually a async wrapper for sync operation. But you're still await on an operation.</li>
</ul></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ed07bf70-54e6-11e9-bf38-c3a3a604c63b"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed07bf70-54e6-11e9-bf38-c3a3a604c63b">In reply to Akira</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-500aa9a0-54e9-11e9-bf38-c3a3a604c63b"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-500aa9a0-54e9-11e9-bf38-c3a3a604c63b" title="permalink">2 years ago (2019-04-02 07:17:46 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed07bf70-54e6-11e9-bf38-c3a3a604c63b">In reply to Akira</a></div></div><div class="comment-message" style="clear:both;"><p>Yes, you can have what I call "fake async" methods - that is, methods implemented with <code>Task.Run</code>. This blog post only deals with truly asynchronous methods.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="500aa9a0-54e9-11e9-bf38-c3a3a604c63b"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-500aa9a0-54e9-11e9-bf38-c3a3a604c63b">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7d824480-83d6-11e9-8f9e-75cbd2e1542a"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/924f058369af9b8d2b51d03470f9ea27.png"></div><div class="comment-author"><span class="comment-author-name">Dave Black</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://dave-black.blogspot.com/">https://dave-black.blogspot.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7d824480-83d6-11e9-8f9e-75cbd2e1542a" title="permalink">2 years ago (2019-06-01 12:31:26 am)</a></div></div><div class="comment-message" style="clear:both;"><p>Just a nit, but I think a big one…</p>
<p>Shouldn't you have:</p>
<pre>private async <strong>Task</strong> Button_Click(object sender, RoutedEventArgs e)</pre>
<p>instead of:</p>
<pre>private async void Button_Click(object sender, RoutedEventArgs e)</pre>
<p>I was under the impression that it is bad practice to have a 'void' return type with an async method. TIA</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7d824480-83d6-11e9-8f9e-75cbd2e1542a"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7d824480-83d6-11e9-8f9e-75cbd2e1542a">In reply to Dave Black</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-633412d0-83e4-11e9-8f9e-75cbd2e1542a"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-633412d0-83e4-11e9-8f9e-75cbd2e1542a" title="permalink">2 years ago (2019-06-01 02:10:55 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7d824480-83d6-11e9-8f9e-75cbd2e1542a">In reply to Dave Black</a></div></div><div class="comment-message" style="clear:both;"><p>No.</p>
<p>The guideline is "avoid async void" except for event handlers. <code>Button_Click</code> is an event handler, so it is purposely <code>async void</code>.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="633412d0-83e4-11e9-8f9e-75cbd2e1542a"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-633412d0-83e4-11e9-8f9e-75cbd2e1542a">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-02bb4a60-83ec-11e9-8f9e-75cbd2e1542a"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/924f058369af9b8d2b51d03470f9ea27.png"></div><div class="comment-author"><span class="comment-author-name">Dave Black</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://dave-black.blogspot.com/">https://dave-black.blogspot.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02bb4a60-83ec-11e9-8f9e-75cbd2e1542a" title="permalink">2 years ago (2019-06-01 03:05:29 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-633412d0-83e4-11e9-8f9e-75cbd2e1542a">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>Ah, I wasn't aware of the exception for UI. Thanks for the clarification.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="02bb4a60-83ec-11e9-8f9e-75cbd2e1542a"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-02bb4a60-83ec-11e9-8f9e-75cbd2e1542a">In reply to Dave Black</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-645bd180-a152-11e9-b892-27c2eac73748"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/3bc8b45d450d59282a0da5cced6d70c6"></div><div class="comment-author"><span class="comment-author-name">cookie404</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-645bd180-a152-11e9-b892-27c2eac73748" title="permalink">2 years ago (2019-07-08 01:01:25 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>dear  Stephen , in this comments:</p>
<blockquote>
  <p>Imagine we have another async method in between UI or web api controller and the async IO operations. Who executes that code?</p>
  <p>The code resumes on whatever context was captured at the point of the await. The built-in "context"s are generally the UI thread or a thread pool thread.“</p>
</blockquote>
<p>in this post,
<a href="https://blog.stephencleary.com/2017/03/aspnetcore-synchronization-context.html" rel="nofollow noopener">https://blog.stephencleary.com/2017/03/aspnetcore-synchronization-context.html</a></p>
<p>we know there is no synchronization-context in asp.net core  any more,</p>
<p>so there  mast  be a  thread pool thread execute the code ?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="645bd180-a152-11e9-b892-27c2eac73748"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-645bd180-a152-11e9-b892-27c2eac73748">In reply to cookie404</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-362a4250-a914-11e9-a14c-51fa5c639afb"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-362a4250-a914-11e9-a14c-51fa5c639afb" title="permalink">2 years ago (2019-07-18 09:56:28 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-645bd180-a152-11e9-b892-27c2eac73748">In reply to cookie404</a></div></div><div class="comment-message" style="clear:both;"><p>Correct. There is no context captured, so the thread resumes executing on any available thread pool thread.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="362a4250-a914-11e9-a14c-51fa5c639afb"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-362a4250-a914-11e9-a14c-51fa5c639afb">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7bbdf930-8c88-11ea-9ef0-e95d7a14348e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">daniel</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7bbdf930-8c88-11ea-9ef0-e95d7a14348e" title="permalink">10 months ago (2020-05-02 08:50:41 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Six years after and I keep referring back to this gem. Simple, concise, and to the point.
thanks!</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7bbdf930-8c88-11ea-9ef0-e95d7a14348e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7bbdf930-8c88-11ea-9ef0-e95d7a14348e">In reply to daniel</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-2f9ccff0-92ea-11ea-9ec5-3955ad16e919"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Jonathan D</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2f9ccff0-92ea-11ea-9ec5-3955ad16e919" title="permalink">10 months ago (2020-05-10 11:45:11 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Thank you so much for the informative and clear explanations - your async guidance is all over the web and has been invaluable to me during my current 'flung into the deep end' development project. Much appreciated.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="2f9ccff0-92ea-11ea-9ec5-3955ad16e919"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-2f9ccff0-92ea-11ea-9ec5-3955ad16e919">In reply to Jonathan D</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-ed049a90-939a-11ea-8c0e-09e6c6fdceaf"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/0b6fe89aaf7f1c4e8ff2eed875839685"></div><div class="comment-author"><span class="comment-author-name">Marcin</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed049a90-939a-11ea-8c0e-09e6c6fdceaf" title="permalink">10 months ago (2020-05-11 08:50:20 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>There is no spoon :)</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="ed049a90-939a-11ea-8c0e-09e6c6fdceaf"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-ed049a90-939a-11ea-8c0e-09e6c6fdceaf">In reply to Marcin</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-719cbf00-9d94-11ea-85aa-e50ced5b5726"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/51e08d7ae4e4ff4f5f3c145acf8544bd"></div><div class="comment-author"><span class="comment-author-name">Sunny Singh</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-719cbf00-9d94-11ea-85aa-e50ced5b5726" title="permalink">10 months ago (2020-05-24 01:29:07 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Awesome explanation.Thanks for explaining it so clealy</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="719cbf00-9d94-11ea-85aa-e50ced5b5726"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-719cbf00-9d94-11ea-85aa-e50ced5b5726">In reply to Sunny Singh</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-8e3c8550-d1dd-11ea-95b9-71eb1bc5e14c"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/38f94e31ac62e70238db3f90b034896d"></div><div class="comment-author"><span class="comment-author-name">Moon Fisher</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8e3c8550-d1dd-11ea-95b9-71eb1bc5e14c" title="permalink">7 months ago (2020-07-30 02:23:29 am)</a></div></div><div class="comment-message" style="clear:both;"><p>I have read this article many times over years.  I kind of partially agree with this but mostly disagree.  The main reason is that the notion "There is no thread" creates a very good reason for many people to "not think".  </p>
<p>Consider this simple code:</p>
<p>var result = await client.GetAsync("http://myapiendpoint");</p>
<p>Until you get hold of the 'result' everything is async, and you are right, there is no thread involved.</p>
<p>But the problem here is that you get hold of 'result' as soon as the first drop of data arrives (in this case may be a 200 response from server).</p>
<p>But the reality is that to actually make use of the actual response and deserialize into your model there is no way anybody can guarantee that the thread will not wait, because the amount of data that is required to deserialize may arrive in multiple chucks.  Hence the waiting thread.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="8e3c8550-d1dd-11ea-95b9-71eb1bc5e14c"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8e3c8550-d1dd-11ea-95b9-71eb1bc5e14c">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-f3a68040-d1e6-11ea-ad58-79193f5c10fc"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f3a68040-d1e6-11ea-ad58-79193f5c10fc" title="permalink">7 months ago (2020-07-30 03:30:45 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-8e3c8550-d1dd-11ea-95b9-71eb1bc5e14c">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"><p>The default behavior for <code>HttpClient</code> is to not return the result until the <em>entire</em> result has arrived. While you can instruct <code>HttpClient</code> to return a result only when the headers are read, you then have the option of asynchronously reading the response body. Either way, there is no thread waiting for the next chunk.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="f3a68040-d1e6-11ea-ad58-79193f5c10fc"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f3a68040-d1e6-11ea-ad58-79193f5c10fc">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-0a3d8640-d1ed-11ea-ad58-79193f5c10fc"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/38f94e31ac62e70238db3f90b034896d"></div><div class="comment-author"><span class="comment-author-name">Moon Fisher</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0a3d8640-d1ed-11ea-ad58-79193f5c10fc" title="permalink">7 months ago (2020-07-30 04:14:20 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-f3a68040-d1e6-11ea-ad58-79193f5c10fc">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>"there is no thread waiting for the next chunk"</p>
<p>True.  But "next chunk" != "the object I am deserializing".</p>
<p>So the thread will have to wait to fully deserialize the model.  </p>
<p>The default behavior of HttpClient is good only when all needed bytes arrive in the first and only chunk.</p>
<p>If the result is large, I don't want to consume it until it arrives fully, I want to consume it as it arrives (streaming).</p>
<p>Consider the case when I want to consume IEnumerable from the response of HttpClient.</p>
<p>I cannot hydrate an instance of T until all the bytes required to fully instantiate one instance of T have arrived.
if number of bytes required to hydrate single instance of T are more than the chunk then the thread has to wait.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="0a3d8640-d1ed-11ea-ad58-79193f5c10fc"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0a3d8640-d1ed-11ea-ad58-79193f5c10fc">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-6700be30-d3fd-11ea-9f94-3dc3516b29be"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6700be30-d3fd-11ea-9f94-3dc3516b29be" title="permalink">7 months ago (2020-08-01 07:16:29 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-0a3d8640-d1ed-11ea-ad58-79193f5c10fc">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"><blockquote>
  <p>So the thread will have to wait to fully deserialize the model. The default behavior of HttpClient is good only when all needed bytes arrive in the first and only chunk.</p>
</blockquote>
<p>This is incorrect.</p>
<p>If you are using <code>HttpClient</code> to deserialize an object all at once, then your code will not resume until the <em>entire</em> response has been read and deserialized. The thread is not blocked during this time.</p>
<blockquote>
  <p>If the result is large, I don't want to consume it until it arrives fully, I want to consume it as it arrives (streaming).</p>
</blockquote>
<p>In that case, you can use <code>HttpCompletionOption.ResponseHeadersRead</code> to complete the initial <code>GetAsync</code> operation when only the headers are read. Then you can get the response - as a stream - and read it asynchronously.</p>
<blockquote>
  <p>I cannot hydrate an instance of T until all the bytes required to fully instantiate one instance of T have arrived.</p>
</blockquote>
<p>Yes; you would have to read the bytes from the stream into a buffer, and only hydrate the <code>T</code> instance when you have enough.</p>
<blockquote>
  <p>if number of bytes required to hydrate single instance of T are more than the chunk then the thread has to wait.</p>
</blockquote>
<p>No, because each additional read from the stream can be asynchronous. So the thread will not be blocked.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="6700be30-d3fd-11ea-9f94-3dc3516b29be"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6700be30-d3fd-11ea-9f94-3dc3516b29be">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-1688aed0-e3df-11ea-adda-79bb21134a81"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/38f94e31ac62e70238db3f90b034896d"></div><div class="comment-author"><span class="comment-author-name">Moon Fisher</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1688aed0-e3df-11ea-adda-79bb21134a81" title="permalink">7 months ago (2020-08-22 12:19:48 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-6700be30-d3fd-11ea-9f94-3dc3516b29be">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>This does not make sense, if the method returns <code>IEnumerable&lt;T&gt;</code> from the stream how can you yield <code>T</code> without waiting to fully hydrate the instance.  </p>
<p>Remember when the client code gets hold of  <code>IEnumerable&lt;T&gt;</code> after the initial <code>await</code> there is no awaits any more between each yield, so the thread that started enumerating  <code>IEnumerable&lt;T&gt;</code> has to wait when buffers runs out and new data chunk hasn't arrived yet.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="1688aed0-e3df-11ea-adda-79bb21134a81"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1688aed0-e3df-11ea-adda-79bb21134a81">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-7f83aed0-e3df-11ea-adda-79bb21134a81"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7f83aed0-e3df-11ea-adda-79bb21134a81" title="permalink">7 months ago (2020-08-22 12:22:44 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-1688aed0-e3df-11ea-adda-79bb21134a81">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"><p>If you want to use <code>async</code> with <code>yield</code>, then return <code>IAsyncEnumerable&lt;T&gt;</code>.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="7f83aed0-e3df-11ea-adda-79bb21134a81"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7f83aed0-e3df-11ea-adda-79bb21134a81">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-baa64620-e3e0-11ea-adda-79bb21134a81"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/38f94e31ac62e70238db3f90b034896d"></div><div class="comment-author"><span class="comment-author-name">Moon Fisher</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-baa64620-e3e0-11ea-adda-79bb21134a81" title="permalink">7 months ago (2020-08-22 12:31:33 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-7f83aed0-e3df-11ea-adda-79bb21134a81">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p><code>IAsyncEnumerable</code> came in C#8.  That means whatever you were saying was wrong for a simple scenario I explained.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="baa64620-e3e0-11ea-adda-79bb21134a81"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-baa64620-e3e0-11ea-adda-79bb21134a81">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-09e491f0-e3e2-11ea-adda-79bb21134a81"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-09e491f0-e3e2-11ea-adda-79bb21134a81" title="permalink">7 months ago (2020-08-22 12:40:55 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-baa64620-e3e0-11ea-adda-79bb21134a81">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"><p>I'm having a hard time putting together all your comments into a single complete question. Could you maybe post your complete question on a Q&amp;A site like Stack Overflow?</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="09e491f0-e3e2-11ea-adda-79bb21134a81"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-09e491f0-e3e2-11ea-adda-79bb21134a81">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-71f02c10-e3e6-11ea-adda-79bb21134a81"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/38f94e31ac62e70238db3f90b034896d"></div><div class="comment-author"><span class="comment-author-name">Moon Fisher</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-71f02c10-e3e6-11ea-adda-79bb21134a81" title="permalink">7 months ago (2020-08-22 01:12:28 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-09e491f0-e3e2-11ea-adda-79bb21134a81">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"><p>My point is very simple, and it is not a question so I don't need to post it on SO.</p>
<p>In a streaming scenario, where you have to consume an <code>IEnumerable&lt;T&gt;</code> from an Http streaming response.  After the initial <code>await</code> when the thread starts enumerating, it has to wait every time when the buffer runs out and there is no more bytes available to fully instantiate next instance of <code>T</code>.</p>
<p>Therefore the notion 'there is no thread that waits' is fundamentally wrong for this simple scenario.  By the way, this is a very common scenario.</p>
<p>One possible solution is to use <code>IAsyncEnumerable</code> to address this scenario, but that's something that came in C# 8, so your point was wrong until C#8.</p>
<p>Also even if you use <code>IAsyncEnumerable</code> there are only handful of deserializers currently available that return <code>IAsyncEnumerable</code> from a <code>Stream</code>.  Most of the deserializers return <code>IEnumerable&lt;T&gt;</code>.  So you are left with the choice to implement your own and get into lower layer to read bytes, parse raw data (json, csv, xml, binary etc) and hydrate your instance of <code>T</code>.</p>
<p>At a high level your point makes sense and it may be true for the scenario when all the data arrives fully before <code>IEnumerable&lt;T&gt;</code> is returned.  But this does not work for the streaming cases, which is a very common case. </p>
<p>So the thread has to wait for a very common streaming scenario that I explained above.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="71f02c10-e3e6-11ea-adda-79bb21134a81"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-71f02c10-e3e6-11ea-adda-79bb21134a81">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-4a446bd0-e3e7-11ea-adda-79bb21134a81"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4a446bd0-e3e7-11ea-adda-79bb21134a81" title="permalink">7 months ago (2020-08-22 01:18:31 am)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-71f02c10-e3e6-11ea-adda-79bb21134a81">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"><p>I've never been in a streaming scenario where I've had to consume <code>IEnumerable&lt;T&gt;</code>. <em>Of course</em> a thread would be blocked while consuming an <code>IEnumerable&lt;T&gt;</code> because it's a synchronous API; that does not invalidate the point of this post. <code>HttpClient</code> has no <code>IEnumerable&lt;T&gt;</code>-returning streaming methods AFAIK.</p>
<p>For streaming scenarios, I've normally used <code>Stream</code>, which does support asynchronous APIs and does not burn an unnecessary thread. I believe this is the normal approach for streaming HTTP responses.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="4a446bd0-e3e7-11ea-adda-79bb21134a81"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4a446bd0-e3e7-11ea-adda-79bb21134a81">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-441cf700-04b6-11eb-90aa-13ace0dc86be"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Orbstein</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-441cf700-04b6-11eb-90aa-13ace0dc86be" title="permalink">5 months ago (2020-10-02 07:20:44 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-71f02c10-e3e6-11ea-adda-79bb21134a81">In reply to Moon Fisher</a></div></div><div class="comment-message" style="clear:both;"><p>Moon Fisher I am very curious to see a snippet (real C # code with Http Api) that you are talking about, you seem to be <em>so</em> convinced about the api that you must have checked out the internal implementations and knows something we do not.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="441cf700-04b6-11eb-90aa-13ace0dc86be"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-441cf700-04b6-11eb-90aa-13ace0dc86be">In reply to Orbstein</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div></div></div></div></div></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-bf45d4d0-1486-11eb-97f6-5775109d6623"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Sumit</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://docs.microsoft.com/en-us/aspnet/core/performance/performance-best-practices?view=aspnetcore-3.1#arlb">https://docs.microsoft.com/en-us/aspnet/core/performance/performance-best-practices?view=aspnetcore-3.1#arlb</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-bf45d4d0-1486-11eb-97f6-5775109d6623" title="permalink">4 months ago (2020-10-22 10:20:53 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>Thanks for the explanation. It clear some aspect. but what happen , when you execute multiple task. for instance in below example (section : Do not access HttpContext from multiple threads), describing the multithreading scenario, by creating new task. It is not using Task.Run etc. Doesn't it contradict "NO thread" analogy here? .
<a href="https://docs.microsoft.com/en-us/aspnet/core/performance/performance-best-practices?view=aspnetcore-3.1#arlb" rel="nofollow noopener">https://docs.microsoft.com/en-us/aspnet/core/performance/performance-best-practices?view=aspnetcore-3.1#arlb</a></p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="bf45d4d0-1486-11eb-97f6-5775109d6623"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-bf45d4d0-1486-11eb-97f6-5775109d6623">In reply to Sumit</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-4a418cd0-1493-11eb-86ee-7ff6dc1d07d7"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4a418cd0-1493-11eb-86ee-7ff6dc1d07d7" title="permalink">4 months ago (2020-10-22 11:50:41 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-bf45d4d0-1486-11eb-97f6-5775109d6623">In reply to Sumit</a></div></div><div class="comment-message" style="clear:both;"><p>There's no contradiction. The multiple threads they're talking about are running the <em>continuations</em> of the asynchronous method, <em>after</em> the <code>SearchService</code> API call completes.</p>
<p>(Side note: there's a mistake in the docs - <code>SearchService.Search</code> should be asynchronous, or else the continuations won't actually run in parallel or on different threads).</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="4a418cd0-1493-11eb-86ee-7ff6dc1d07d7"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-4a418cd0-1493-11eb-86ee-7ff6dc1d07d7">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-38daaf10-1878-11eb-b45e-83d58e3bae0e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-38daaf10-1878-11eb-b45e-83d58e3bae0e" title="permalink">4 months ago (2020-10-27 10:46:59 pm)</a></div></div><div class="comment-message" style="clear:both;"><p>While reading this all my spoons disappeared - along with the notion of how a thread pool works.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="38daaf10-1878-11eb-b45e-83d58e3bae0e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-38daaf10-1878-11eb-b45e-83d58e3bae0e">In reply to Anonymous</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div><div class="comment-container"><div class="comment"><div class="comment-anchor" id="comment-45d85970-187c-11eb-b45e-83d58e3bae0e"></div><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/23448e78d187fba56d8bc263081ac5d8.jpeg"></div><div class="comment-author"><span class="comment-author-name">Stephen Cleary</span><span> • </span><a class="comment-author-uri" rel="nofollow noopener" href="https://stephencleary.com/">https://stephencleary.com</a></div><div class="comment-date"><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-45d85970-187c-11eb-b45e-83d58e3bae0e" title="permalink">4 months ago (2020-10-27 11:15:59 pm)</a></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-38daaf10-1878-11eb-b45e-83d58e3bae0e">In reply to Anonymous</a></div></div><div class="comment-message" style="clear:both;"><p>I didn't include all the details when writing this, because it's already Too Long.</p>
<p>One detail you may find useful is that the thread pool is actually composed of two different parts. The part I talk about in this article is the IOCP side, which has a number of "I/O threads" processing that IOCP. The part that <em>most</em> articles talk about is the worker side, which has a number of "worker threads" just doing whatever is queued to the thread pool. So all the work-stealing queues and things like that are all on the worker side of the thread pool.</p>
<p>Hopefully that clears it up. Those other articles aren't <em>wrong;</em> it's just that most people think about the worker thread pool when talking about "the thread pool", and this article deals with the <em>other</em> side of the thread pool - the I/O thread side.</p></div></div><div><button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value="45d85970-187c-11eb-b45e-83d58e3bae0e"><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div><div><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html#comment-45d85970-187c-11eb-b45e-83d58e3bae0e">In reply to Stephen Cleary</a></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div></div><div><button class="btn btn-primary comment-new"><i class="fa fa-plus-square"></i> New Comment</button><div class="comment-form comment-hidden"><form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"><input type="hidden" name="fields[postId]" value="2013_11_there-is-no-thread-a4d25d49-dbfd-39fd-9b16-ff58dd4a1ff2"><input type="hidden" name="fields[postUri]" value="https://blog.stephencleary.com/2013/11/there-is-no-thread.html"><input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"><input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4="><input type="hidden" name="fields[replyTo]" value=""><input type="hidden" name="fields[authorEmailEncrypted]" value=""><input type="hidden" name="fields[authorEmailMD5]" value=""><div class="form-group"><label>Name (optional)</label><input type="text" name="fields[authorName]" class="form-control" placeholder="Name"></div><div class="form-group"><label>Email (optional; always encrypted, never shared)</label><input type="email" name="email" class="form-control" placeholder="Email"></div><div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label><input type="url" name="fields[authorUri]" class="form-control" placeholder="Url"></div><div class="form-group"><label>Message (supports some Markdown/HTML)</label><textarea name="fields[message]" class="form-control" placeholder="Message" style="overflow: hidden; overflow-wrap: break-word;"></textarea></div><h3>Preview:</h3><div><div class="comment-container"><div class="comment"><div class="comment-header"><div class="comment-author-profile" style="float:left;"><img class="comment-author-profile-image" src="./Async_Await - Hardware level implementation - There Is No Thread_files/none.png"></div><div class="comment-author"><span class="comment-author-name">Anonymous</span></div><div class="comment-date"><span>in a few seconds (2021-03-06 12:35:48 am)</span></div></div><div class="comment-message" style="clear:both;"></div></div></div></div><div class="comment-form-buttonbar"><button type="submit" class="btn btn-primary pull-right">Submit</button><div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div></div></form></div></div></div>
    </footer>
</div>
        </div>
        <div class="col-sm-2 col-md-3 col-md-offset-0 col-lg-2 col-lg-offset-1 hidden-print affix" data-spy="affix" role="navigation">
            
            
        </div>
        <div class="col-sm-2 sidebar hidden-print">
            <div class="panel panel-default">
                <div class="panel-heading">About Stephen Cleary</div>
                <div class="panel-body">
                    <div class="center"><img src="./Async_Await - Hardware level implementation - There Is No Thread_files/Me-large.jpg"></div>
                    <div class="center vertical-margins">Stephen Cleary is a <a href="https://stephencleary.com/god/">Christian</a>, husband, father, and programmer living in Northern Michigan.</div>
                    <div class="center"><a href="http://mvp.microsoft.com/en-us/mvp/Stephen%20Cleary-5000058"><img class="mvp-logo" src="./Async_Await - Hardware level implementation - There Is No Thread_files/MVP.png"></a></div>
                </div>
            </div>
            <div class="panel panel-primary">
                <div class="panel-heading">My book</div>
                <div class="panel-body center">
                    <div><a href="https://stephencleary.com/book/"><img src="./Async_Await - Hardware level implementation - There Is No Thread_files/Book-2nd-small.jpg"></a></div>
                    <div>Available from <a href="http://www.jdoqocy.com/click-7489747-11290546?url=http%3A%2F%2Fshop.oreilly.com%2Fproduct%2F0636920266624.do%3Fcmp%3Daf-code-books-video-product_cj_0636920266624_%25zp&amp;cjsku=0636920266624">O'Reilly (Safari)</a>, <a href="https://amzn.to/2kYzcEY">Amazon (print/Kindle)</a>, or <a href="https://www.ebooks.com/cj.asp?IID=209766469&amp;cjsku=209766469">eBooks.com (PDF/epub)</a>.</div>
                    <div>Also available in <a href="https://www.labirint.ru/books/745595/">Russian</a> and <a href="https://item.jd.com/12769567.html">Chinese</a>.</div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">Advertisement</div>
                <div><a href="https://brave.com/ste083">Don't like ads? Browse privately and ad-free with Brave!</a></div>
                <div class="panel-body">
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2749292939902134" data-ad-slot="7584809820" data-ad-format="auto"></ins>
                </div>
            </div>
            
            <div class="panel panel-primary">
                <div class="panel-heading">Popular Posts</div>
                <div class="panel-body">
                    <ul class="nav nav-pills nav-stacked">
                        <li><a href="https://blog.stephencleary.com/2012/02/async-and-await.html">Async/await Intro</a></li>
                        <li><a href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html">There Is No Thread</a></li>
                        <li><a href="https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html">Don't Block on Async Code</a></li>
                    </ul>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">Series</div>
                <div class="panel-body">
                    <ul class="nav nav-pills nav-stacked">
                        <li><a href="https://blog.stephencleary.com/2016/02/react-redux-todomvc.html">React/Redux TodoMVC</a></li>
                        <li><a href="https://blog.stephencleary.com/2014/04/a-tour-of-task-part-0-overview.html">A Tour of Task</a></li>
                        <li><a href="https://blog.stephencleary.com/2013/10/taskrun-etiquette-and-proper-usage.html">Task.Run Etiquette</a></li>
                        <li><a href="https://blog.stephencleary.com/2013/05/taskrun-vs-backgroundworker-intro.html">Task.Run vs. BackgroundWorker</a></li>
                        <li><a href="https://blog.stephencleary.com/2013/01/async-oop-0-introduction.html">Async OOP</a></li>
                        <li><a href="https://blog.stephencleary.com/2009/04/tcpip-net-sockets-faq.html">TCP/IP .NET Sockets FAQ</a></li>
                        <li><a href="https://blog.stephencleary.com/2013/10/managed-services-roundup.html">Managed Services</a></li>
                        <li><a href="https://blog.stephencleary.com/2009/08/how-to-implement-idisposable-and.html">IDisposable and Finalizers</a></li>
                        <li><a href="https://blog.stephencleary.com/2011/02/option-parsing-introduction.html">Option Parsing</a></li>
                    </ul>
                </div>
            </div>
            
        </div>
    </div>

    <div class="google">
        <gcse:searchresults></gcse:searchresults>
    </div>
    
    <!-- jQuery -->
<script type="text/javascript" async="" src="./Async_Await - Hardware level implementation - There Is No Thread_files/recaptcha__en.js.download" crossorigin="anonymous" integrity="sha384-nfmMVdkjvrnzkQS6VWFhGFripZ9s4Dq0Y3QImuDgCBdyW1qZiwIFHYBbsZBnGbIl"></script><script async="" src="./Async_Await - Hardware level implementation - There Is No Thread_files/analytics.js.download"></script><script src="./Async_Await - Hardware level implementation - There Is No Thread_files/jquery-2.1.1.min.js.download"></script>
<script type="text/javascript">window.jQuery || document.write('<script src="/lib/jquery-2.1.1.min.js"><\/script>')</script>

<!-- Bootstrap -->
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/bootstrap.min.js.download"></script>
<script type="text/javascript">window.jQuery.fn.modal || document.write('<script src="/lib/bootstrap.min.js"><\/script>')</script>
<script type="text/javascript">
    (function($) {
        $(function() {
            if ($('body').css('color') !== 'rgb(102, 102, 102)') {
                $('head').prepend('<link rel="stylesheet" href="/lib/bootstrap.min.css" />');
            }
        });
    })(window.jQuery);
</script>

<!-- Font Awesome -->
<span id="facheck" class="fa" style="display:none"></span>
<script type="text/javascript">
    (function($) {
        $(function() {
            if ($('#facheck').css('fontFamily') !== 'FontAwesome') {
                $('head').prepend('<link rel="stylesheet" href="/lib/font-awesome.min.css" />');
            }
        });
    })(window.jQuery);
</script>

<!-- Scroll the sidebar into view (if necessary) -->


<!-- Moment -->
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/moment.min.js.download"></script>
<script type="text/javascript">window.moment || document.write('<script src="/lib/moment.min.js"><\/script>')</script>

<!-- Google analytics -->
<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-8910661-5', 'stephencleary.com');
    ga('send', 'pageview');
</script>

<!-- Show appropriate elements based on time -->
<script type="text/javascript">
    (function ($) {
        $(function () {
            var targets = $('[data-hide-after]');
            targets.each(function () {
                var $item = $(this);
                if (moment() < moment($item.attr('data-hide-after'))) {
                    $item.removeClass('hidden');
                }
            });
        });
    })(window.jQuery);
</script>








<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/uuid-v3-3.2.1.min.js.download"></script>
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/showdown.min.js.download" integrity="sha256-dwhppIrxD8qC6lNulndZgtIm4XBU9zoMd9OUoXzIDAE=" crossorigin="anonymous"></script>
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/sanitize-html-1.18.2.min.js.download"></script>
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/autosize.min.js.download"></script>
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/base64js.min.js.download"></script>
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/md5.min.js.download"></script>

<script type="text/javascript">

var pageUrl = "https://blog.stephencleary.com" + "/2013/11/there-is-no-thread.html";

// (unnecessary) 1) If the URL starts with http://, replace with https://

// 2) Take the URL path (not including scheme and domain).
var url = document.createElement('a');
url.href = pageUrl; //'https://developer.mozilla.org:8080/en-US/search?q=URL#search-results-close-container';
var path = url.pathname;

// 3) Path: If the path ends with .html or any two- to six-character [A-Za-z0-9] extension, strip it.
if (path.endsWith(".html"))
    path = path.substr(0, path.length - 5);
else
    path = path.replace(/\.[A-Za-z0-9]{2,6}$/, "");

// 4) Path: For each UTF-16 code unit, if it's not in the whitelist [A-Za-z0-9-_;.~()], then replace it with _.
path = path.replace(/[^-A-Za-z0-9_;.~()]/g, "_");

// 5) Path: Trim leading and trailing _ characters.
path = path.replace(/^_+|_+$/g, "");

// 6) Calculate the V3 URL GUID for the URL.
var guid = uuidv3(pageUrl, uuidv3.URL);

// 7) Combine the path and lowercase-hyphenated GUID, separated by '-'.
var postId = path + "-" + guid;

var nofollowLinkExtension = {
    type: 'output',
    regex: /(<a[^<]+<\/a>)/g,
    replace: (match, $1, $2) => {
        var result = $('<div/>').append($($1).attr('rel', 'nofollow noopener')).html();
        return result;
    }
};
showdown.extension('nofollowLink', nofollowLinkExtension);

var comments;
var markdownConverter = new showdown.Converter({
    omitExtraWLInCodeBlocks: true,
    noHeaderId: true,
    headerLevelStart: 3,
    simplifiedAutoLink: true,
    excludeTrailingPunctuationFromURLs: true,
    literalMidWordUnderscores: true,
    strikethrough: true,
    smoothLivePreview: true,
    disableForced4SpacesIndentedSublists: true,
    extensions: ['nofollowLink']
});
var sanitizeOptions = {
    allowedTags: [ 'blockquote', 'p', 'a', 'ul', 'ol', 'nl', 'li', 'b', 'i', 'strong', 'em', 'strike', 'code', 'br', 'div', 'pre', 'img' ],
    allowedAttributes: {
        a: [
            'href',
            {
                name: 'rel',
                multiple: true,
                values: ['nofollow', 'noopener']
            }
        ],
        img: [ 'src' ]
    },
    allowedIframeHostnames: []
};

function fixedEncodeURIComponent(str) {
  return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {
    return '%' + c.charCodeAt(0).toString(16);
  });
}

function filterComments(replyTo) {
    return comments
        .filter(function (x) { return x.replyTo === replyTo; })
        .sort(function (a, b) { return a.timestamp - b.timestamp; });
}

function avatarUri(authorEmailMD5) {
    if (authorEmailMD5 === "")
        return "https://www.gravatar.com/avatar/?d=mp&f=y";
    else
        return "https://www.gravatar.com/avatar/" + authorEmailMD5 + "?d=retro";
}

var jwk = {"kty":"RSA","alg":"RSA-OAEP","n":"wviXqUJGtV8hZrvJMcTbyzm7MmiJSqsAfWI_7pCyAhXXzz5C9F3NtXp79CCUMqkOck6IbNKUntPtGNOGwtoc5LTJNKLhx3TPi4TJyKUSfNr3pAdLpMRNeeRXCHFyyVsDb6z8ueixlKzdbDpZhV05bam49PurMHfeexJ3EJy2NpdFviykRJxtrERi6ckBe96VMlT_pHHIWLN5EwOK54DvNn1DYjiFK5ux5WRCFatZByzytrFvIllZRctNXZ8oTuMjQwKLY2bUrURblbIvLfX-9Yd7uVgdUSFE7-vSel9-DMyp_NQ-NRXrQbJG7IAYhSGSx-TPepCDPbFpMq3yC0iET7wF7-OQOb-Kwej_TKVJv-z4SbN-cpCqaMr5Q9scyGih7xr1YrOhe3TMs_cbgjtxsZbzkOqcuRreON_sGb9nlDpSIFCo6aH47GeMkA23Hk3HXAPyYQ7AfWhU9daiPcySiAFnfkrg2QvFNJmMSZ-bo4Co-JkjiqKw-LEpOw6Ed9LK4walxWUAqPGcT4_Uys3TH9XVex9_rEmigHXiJY3_Lwi6mTSkW10-zen5UXxqnyHpMxlmumohT96OyLyhEPeaaq8FrTYMCX8TiMOst3jF5QCNP-LFz21yeUEAr5_3-FKV2mjWEU9iW0dOOVTII2rlD0WtCkqkDwZtakQ1ynGdW1E","e":"AQAB"};

function commentId(id) { return "comment-" + id; }

function $commentForm(hideForm, comment) {
    var $previewDiv = $('<div/>');
    var $authorEmailEncrypted = $('<input type="hidden" name="fields[authorEmailEncrypted]">');
    var $authorEmailMD5 = $('<input type="hidden" name="fields[authorEmailMD5]">');
    var $email = $('<input type="email" name="email" class="form-control" placeholder="Email">');
    var $name = $('<input type="text" name="fields[authorName]" class="form-control" placeholder="Name">');
    var $url = $('<input type="url" name="fields[authorUri]" class="form-control" placeholder="Url">');
    var $message = $('<textarea name="fields[message]" class="form-control" placeholder="Message"/></textarea>');
    autosize($message);
    var $replyTo = $('<input type="hidden" name="fields[replyTo]">').val("");
    var $recaptcha = $('<div class="g-recaptcha" data-sitekey="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_"></div>');
    var $buttonBar = $('<div class="comment-form-buttonbar"/>').append($('<button type="submit" class="btn btn-primary pull-right">Submit</button>'), $recaptcha);
    var $form = $('<form method="POST" action="https://stephencleary-comments.herokuapp.com/v2/entry/StephenCleary/comments.stephencleary.com/master"/>')
        .append($('<input type="hidden" name="fields[postId]">').val(postId))
        .append($('<input type="hidden" name="fields[postUri]">').val(location.href.replace(/#.*/, '')))
        .append($('<input type="hidden" name="options[reCaptcha][siteKey]" value="6LfSaV8UAAAAAEFq-7HeUDiSQCkCtLtO_yc_SOi_">'))
        .append($('<input type="hidden" name="options[reCaptcha][secret]" value="rlAivB9udiXQ8MQx3HNJ2Cw/qA2OJI1noljbySzRpNLKmdaS7LtDRT4T3hZcQswRl5sajt5dr+Txj46K2oEGH2HiStNdMMxCchBg0T6YcbZoAP7Zvax+6/C293ClnzMYq8Ozk4bMDbXEHC11FvHR2eaBKqTgAmQSQ3+N2NU5Aaw4Cqfgsj55Br+lKyK0Ydll6SF9+IjQnGJ6S9QV7rHopROdV3RCaeSsSrhsqyGjhvPRgSdl23npJbZt8R0e4oGd6ogH+VDhkj+S3LFPL+R7h6BiHuUDNuJheaJKYTJtjWt80esZgFYywTyTWnqkNBHxOXyH8+AN4PGI0trvlXzdsGvNYRP+dlV6AQyShI3zimSmB4mqcAnuNhGNvLIsfgTKRT1gmxgG1uxUMPjRq1L3R2wQMSQ1/cEuX2wiLI3UrtT8N+QUEptMQ1jsR7rg28OxqIVhbd2+LeAS90PxbxJ9h3mKAxQ493TmCIxRLbh9RNLl+jy8NsRwz2RikzKLJDZsfB7n/Z30nSDZkOTtT7fMzS3g4eJzT0sZStFQsW7Gis6MVs8hXUYgiuIseALKvAzmobnlycD/rqlCpZ5rYC2xQToc4ZDczfZ0bCP8/R5Op4J8LhI4l0JfR1pZSD9V9xTyQ6MTuTT63Ra72ANxn/0idxveWPJS7WMKbKoGmuTNji4=">'))
        .append($replyTo)
        .append($authorEmailEncrypted)
        .append($authorEmailMD5)
        .append($('<div class="form-group"><label>Name (optional)</label></div>').append($name))
        .append($('<div class="form-group"><label>Email (optional; always encrypted, never shared)</label></div>').append($email))
        .append($('<div class="form-group"><label>Url (optional; must start with "http://" or "https://")</label></div>').append($url))
        .append($('<div class="form-group"><label>Message (supports some Markdown/HTML)</label></div>').append($message));
    if (comment) {
        $replyTo.val(comment._id);
    }
    $form.submit(function (e) {
        e.preventDefault();
        hideForm();
        var postAction = $form.attr('action');
        var postBody = $form.serialize();
        var retries = 5;

        function postIt() {
            var post = $.post(postAction, postBody, "json");
            post.done(function () {
                alert("Comment successfully posted. It should appear on this page in a minute or so.");
            });
            post.error(function () {
                var message = "Failed to post comment";
                if (post.responseText)
                    message += ": " + post.responseText;
                
                if (--retries > 0) {
                    console.log(message);
                    postIt();
                } else {
                    alert(message);
                }
            });
        }

        postIt();
    });

    function createComment() {
        return normalizeComment({
            date: moment().format(),
            _id: "_",
            replyTo: comment ? comment._id : undefined,
            authorName: $name.val(),
            authorEmailMD5: $authorEmailMD5.val(),
            authorUri: $url.val(),
            message: $message.val()
        });
    };

    function recreatePreview() {
        var email = $email.val();
        if (email && email.indexOf("@") !== -1) {
            var data = new TextEncoder().encode($email.val());
            window.crypto.subtle.importKey("jwk", jwk, { name: "RSA-OAEP", hash: { name: "SHA-1" } }, false, ["encrypt"]).then(function (encryptionKey) {
                return window.crypto.subtle.encrypt({ name: "RSA-OAEP" }, encryptionKey, data)
                    .then(function (encrypted) {
                        var array = new Uint8Array(encrypted);
                        var text = base64js.fromByteArray(array);
                        $authorEmailEncrypted.val(text);
                        return text;
                    });
            });
            $authorEmailMD5.val(md5($email.val().replace(/^ +| +$/g, '').toLowerCase()));
        } else {
            $authorEmailMD5.val("");
            $authorEmailEncrypted.val("");
        }

        var $newPreview = $comment(false, createComment());
        // Turn off permalink and anchor
        var $anchor = $newPreview.find('.comment-date a');
        $anchor.replaceWith($('<span/>').text($anchor.text()));
        $newPreview.find('.comment-anchor').remove();
        $previewDiv.empty();
        $previewDiv.append($newPreview);
    };

    recreatePreview();
    $name.on('change keyup input paste', recreatePreview);
    $email.on('change keyup input paste', recreatePreview);
    $url.on('change keyup input paste', recreatePreview);
    $message.on('change keyup input paste', recreatePreview);

    $form.append($('<h3>Preview:</h3>'), $previewDiv, $buttonBar);
    return {
        $form: $('<div class="comment-form"/>').append($form),
        onShow: function() { grecaptcha.render($recaptcha[0]); }
    };
}

function $replyButton(comment) {
    var $button;
    if (comment)
        $button = $('<button class="btn btn-primary comment-reply"><i class="fa fa-reply"></i> Reply</button>');
    else
        $button = $('<button class="btn btn-primary comment-new"><i class="fa fa-plus-square"></i> New Comment</button>');
    return $button;
}

var now = moment();
function $comment(includeForm, comment) {
    var message = sanitizeHtml(markdownConverter.makeHtml(comment.message), sanitizeOptions);
    var $commentDiv = $('<div class="comment"/>');
    var publicationDate = moment(comment.date);
    var $author = $('<div class="comment-author"/>').append($('<span class="comment-author-name"/>').text(comment.authorName));
    if (comment.authorUri !== "")
        $author.append($('<span> • </span>'), $('<a class="comment-author-uri" rel="nofollow noopener"/>').attr('href', comment.authorUri).text(comment.authorUri));
    var $headerDiv = $('<div class="comment-header"/>').append(
        $('<div class="comment-author-profile" style="float:left;"/>').append($('<img class="comment-author-profile-image" src="' + avatarUri(comment.authorEmailMD5) + '"/>')),
        $author,
        $('<div class="comment-date" />').append(
            $('<a/>').attr('href', '#' + commentId(comment._id)).attr('title', 'permalink').text(publicationDate.from(now) + ' (' + publicationDate.format('YYYY-MM-DD hh:mm:ss a') + ')')
        )
    );
    if (comment.replyTo !== "") {
        var parent = comments.filter(function (x) { return x._id === comment.replyTo })[0];
        $headerDiv.append($('<div/>').append($('<a/>').attr('href', '#' + commentId(comment.replyTo)).text('In reply to ' + parent.authorName)));
    }

    $commentDiv.append($('<div class="comment-anchor"/>').attr('id', commentId(comment._id)),
        $headerDiv,
        $('<div class="comment-message" style="clear:both;"/>').html(message)
    );

    var $commentContainer = $('<div class="comment-container"/>').append($commentDiv);
    if (includeForm)
        $commentContainer.append($expandCollapseForm(comment));
    var childComments = filterComments(comment._id);
    for (var i = 0; i != childComments.length; ++i) {
        var child = childComments[i];
        $commentContainer.append($comment(includeForm, child));
    }

    return $commentContainer;
}

function normalizeComment(x) {
    var uri = x.authorUri;
    if (!uri || (!uri.startsWith("http://") && !uri.startsWith("https://")))
        uri = "";
    return {
            _id: x._id,
            authorName: x.authorName || "Anonymous",
            authorEmailMD5: x.authorEmailMD5 || "",
            authorUri: uri,
            message: x.message || "",
            replyTo: x.replyTo || "",
            date: x.date,
            timestamp: moment(x.date).valueOf()
    };
}

function $expandCollapseForm(comment) {
    var $button = $replyButton(comment);
    var formObj = $commentForm(hideForm, comment);
    var $form = formObj.$form.addClass("comment-hidden");
    var onShow = formObj.onShow;
    function showForm() {
        $button.addClass("comment-hidden");
        if (onShow) {
            onShow();
            onShow = null;
        }
        $form.removeClass("comment-hidden");
    }
    function hideForm() {
        $form.addClass("comment-hidden");
        $button.removeClass("comment-hidden");
    }
    $button.click(showForm);
    return $('<div/>').append($button, $form);
}

function recaptchaLoaded() {
    var req = new XMLHttpRequest();
    req.addEventListener("load", function () {
        var $commentDiv = $('#comments');
        if (req.status === 404 || req.status === 200) {
            if (req.status === 404) {
                comments = [];
            } else {
                comments = JSON.parse(req.responseText).map(normalizeComment);
            }
            var commentCounter = document.getElementById('comment-counter');
            commentCounter.innerText = comments.length + " " + commentCounter.innerText;
            var toplevelComments = filterComments("");
            for (var i = 0; i != toplevelComments.length; ++i) {
                var comment = toplevelComments[i];
                $commentDiv.append($comment(true, comment));
            }
            if (comments.length !== 0) {
                $commentDiv.append($expandCollapseForm());
            }
        }
        $commentDiv.prepend($expandCollapseForm());
    });
    req.open('GET', "https://comments.stephencleary.com/" + postId + ".json");
    req.send();
}
</script>

<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/api.js.download"></script>



<!-- Google AdSense -->
<script src="./Async_Await - Hardware level implementation - There Is No Thread_files/f.txt"></script>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Moment -->
<script type="text/javascript">
    (function($) {
        $(function () {
            $('time').each(function (_, e) {
                var startOfToday = moment().startOf('day');
                var publicationDate = moment($(e).attr('datetime'), 'YYYY-MM-DD');
                var difference = startOfToday.diff(publicationDate, 'days');
                var text = difference === 0 ? 'Today' :
                    difference === 1 ? 'Yesterday' :
                    publicationDate.from(startOfToday);
                $(e).text(function(_, oldText) { return text + ' (' + oldText + ')'; });
            });
        });
    })(window.jQuery);
</script>





</body></html>